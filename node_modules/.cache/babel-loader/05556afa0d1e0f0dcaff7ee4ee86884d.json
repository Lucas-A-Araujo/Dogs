{"ast":null,"code":"var _jsxFileName = \"/home/lucas/node_projects/dogs-final/src/Components/Feed/Feed.js\";\nimport React from 'react';\nimport FeedModal from './FeedModal';\nimport FeedPhotos from './FeedPhotos';\nimport PropTypes from 'prop-types';\n\nconst Feed = ({\n  user\n}) => {\n  const [modalPhoto, setModalPhoto] = React.useState(null);\n  const [pages, setPages] = React.useState([1]);\n  const [infinite, setInfinite] = React.useState(true);\n  React.useEffect(() => {\n    let wait = false;\n\n    function infiniteScroll() {\n      if (infinite) {\n        const scroll = window.scrollY;\n        const height = document.body.offsetHeight - window.innerHeight;\n\n        if (scroll > height * 0.75 && !wait) {\n          setPages(pages => [...pages, pages.length + 1]);\n          wait = true;\n          setTimeout(() => {\n            wait = false;\n          }, 500);\n        }\n      }\n    }\n\n    window.addEventListener('wheel', infiniteScroll);\n    window.addEventListener('scroll', infiniteScroll);\n    return () => {\n      window.removeEventListener('wheel', infiniteScroll);\n      window.removeEventListener('scroll', infiniteScroll);\n    };\n  }, [infinite]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, modalPhoto && /*#__PURE__*/React.createElement(FeedModal, {\n    photo: modalPhoto,\n    setModalPhoto: setModalPhoto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), pages.map(page => /*#__PURE__*/React.createElement(FeedPhotos, {\n    key: page,\n    user: user,\n    page: page,\n    setModalPhoto: setModalPhoto,\n    setInfinite: setInfinite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  })), !infinite && !user && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      padding: '2rem 0 4rem 0',\n      color: '#888'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"N\\xE3o existem mais postagens.\"));\n};\n\nFeed.defaultProps = {\n  user: 0\n};\nFeed.propTypes = {\n  user: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired])\n};\nexport default Feed;","map":{"version":3,"sources":["/home/lucas/node_projects/dogs-final/src/Components/Feed/Feed.js"],"names":["React","FeedModal","FeedPhotos","PropTypes","Feed","user","modalPhoto","setModalPhoto","useState","pages","setPages","infinite","setInfinite","useEffect","wait","infiniteScroll","scroll","window","scrollY","height","document","body","offsetHeight","innerHeight","length","setTimeout","addEventListener","removeEventListener","map","page","textAlign","padding","color","defaultProps","propTypes","oneOfType","string","isRequired","number"],"mappings":"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","sourcesContent":["import React from 'react';\nimport FeedModal from './FeedModal';\nimport FeedPhotos from './FeedPhotos';\nimport PropTypes from 'prop-types';\n\nconst Feed = ({ user }) => {\n  const [modalPhoto, setModalPhoto] = React.useState(null);\n  const [pages, setPages] = React.useState([1]);\n  const [infinite, setInfinite] = React.useState(true);\n\n  React.useEffect(() => {\n    let wait = false;\n    function infiniteScroll() {\n      if (infinite) {\n        const scroll = window.scrollY;\n        const height = document.body.offsetHeight - window.innerHeight;\n        if (scroll > height * 0.75 && !wait) {\n          setPages((pages) => [...pages, pages.length + 1]);\n          wait = true;\n          setTimeout(() => {\n            wait = false;\n          }, 500);\n        }\n      }\n    }\n\n    window.addEventListener('wheel', infiniteScroll);\n    window.addEventListener('scroll', infiniteScroll);\n    return () => {\n      window.removeEventListener('wheel', infiniteScroll);\n      window.removeEventListener('scroll', infiniteScroll);\n    };\n  }, [infinite]);\n\n  return (\n    <div>\n      {modalPhoto && (\n        <FeedModal photo={modalPhoto} setModalPhoto={setModalPhoto} />\n      )}\n      {pages.map((page) => (\n        <FeedPhotos\n          key={page}\n          user={user}\n          page={page}\n          setModalPhoto={setModalPhoto}\n          setInfinite={setInfinite}\n        />\n      ))}\n      {!infinite && !user && (\n        <p\n          style={{\n            textAlign: 'center',\n            padding: '2rem 0 4rem 0',\n            color: '#888',\n          }}\n        >\n          NÃ£o existem mais postagens.\n        </p>\n      )}\n    </div>\n  );\n};\n\nFeed.defaultProps = {\n  user: 0,\n};\n\nFeed.propTypes = {\n  user: PropTypes.oneOfType([\n    PropTypes.string.isRequired,\n    PropTypes.number.isRequired,\n  ]),\n};\n\nexport default Feed;\n"]},"metadata":{},"sourceType":"module"}