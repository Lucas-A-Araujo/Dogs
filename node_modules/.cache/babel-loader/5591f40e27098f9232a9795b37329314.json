{"ast":null,"code":"import _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n/*eslint no-magic-numbers: [\"error\", { \"ignore\": [-0.5, 0.5, 0, 1, 2] }]*/\n\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport VictoryPortal from \"../victory-portal/victory-portal\";\nimport Rect from \"../victory-primitives/rect\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\nimport Helpers from \"../victory-util/helpers\";\nimport LabelHelpers from \"../victory-util/label-helpers\";\nimport Style from \"../victory-util/style\";\nimport Log from \"../victory-util/log\";\nimport TextSize from \"../victory-util/textsize\";\nimport TSpan from \"../victory-primitives/tspan\";\nimport Text from \"../victory-primitives/text\";\nvar defaultStyles = {\n  fill: \"#252525\",\n  fontSize: 14,\n  fontFamily: \"'Gill Sans', 'Gill Sans MT', 'SerÂ­avek', 'Trebuchet MS', sans-serif\",\n  stroke: \"transparent\"\n};\n\nvar getPosition = function (props, dimension) {\n  if (!props.datum) {\n    return 0;\n  }\n\n  var scaledPoint = Helpers.scalePoint(props, props.datum);\n  return scaledPoint[dimension];\n};\n\nvar getFontSize = function (style) {\n  var baseSize = style && style.fontSize;\n\n  if (typeof baseSize === \"number\") {\n    return baseSize;\n  } else if (baseSize === undefined || baseSize === null) {\n    return defaultStyles.fontSize;\n  } else if (typeof baseSize === \"string\") {\n    var fontSize = +baseSize.replace(\"px\", \"\");\n\n    if (!isNaN(fontSize)) {\n      return fontSize;\n    } else {\n      Log.warn(\"fontSize should be expressed as a number of pixels\");\n      return defaultStyles.fontSize;\n    }\n  }\n\n  return defaultStyles.fontSize;\n};\n\nvar getSingleValue = function (prop) {\n  var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return Array.isArray(prop) ? prop[index] || prop[0] : prop;\n};\n\nvar useMultiLineBackgrounds = function (props) {\n  var backgroundStyle = props.backgroundStyle,\n      backgroundPadding = props.backgroundPadding;\n  return Array.isArray(backgroundStyle) && !_isEmpty(backgroundStyle) || Array.isArray(backgroundPadding) && !_isEmpty(backgroundPadding);\n};\n\nvar getStyles = function (style, props) {\n  var getSingleStyle = function (s) {\n    s = s ? _defaults({}, s, defaultStyles) : defaultStyles;\n    var baseStyles = Helpers.evaluateStyle(s, props);\n    return _assign({}, baseStyles, {\n      fontSize: getFontSize(baseStyles)\n    });\n  };\n\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(function (s) {\n    return getSingleStyle(s);\n  }) : getSingleStyle(style);\n};\n\nvar getBackgroundStyles = function (style, props) {\n  if (!style) {\n    return undefined;\n  }\n\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(function (s) {\n    return Helpers.evaluateStyle(s, props);\n  }) : Helpers.evaluateStyle(style);\n};\n\nvar getBackgroundPadding = function (props) {\n  if (props.backgroundPadding && Array.isArray(props.backgroundPadding)) {\n    return props.backgroundPadding.map(function (backgroundPadding) {\n      var padding = Helpers.evaluateProp(backgroundPadding, props);\n      return Helpers.getPadding({\n        padding: padding\n      });\n    });\n  } else {\n    var padding = Helpers.evaluateProp(props.backgroundPadding, props);\n    return Helpers.getPadding({\n      padding: padding\n    });\n  }\n};\n\nvar getLineHeight = function (props) {\n  var lineHeight = Helpers.evaluateProp(props.lineHeight, props);\n\n  if (Array.isArray(lineHeight)) {\n    return _isEmpty(lineHeight) ? [1] : lineHeight;\n  } else {\n    return lineHeight;\n  }\n};\n\nvar getContent = function (text, props) {\n  if (text === undefined || text === null) {\n    return undefined;\n  }\n\n  if (Array.isArray(text)) {\n    return text.map(function (line) {\n      return Helpers.evaluateProp(line, props);\n    });\n  }\n\n  var child = Helpers.evaluateProp(text, props);\n\n  if (child === undefined || child === null) {\n    return undefined;\n  }\n\n  return Array.isArray(child) ? child : \"\".concat(child).split(\"\\n\");\n};\n\nvar getDy = function (props, verticalAnchor, lineHeight) {\n  var dy = props.dy ? Helpers.evaluateProp(props.dy, props) : 0;\n  var length = props.inline ? 1 : props.text.length;\n  var capHeight = Helpers.evaluateProp(props.capHeight, props);\n  var anchor = verticalAnchor ? Helpers.evaluateProp(verticalAnchor, props) : \"middle\";\n\n  var fontSizes = _toConsumableArray(Array(length).keys()).map(function (i) {\n    return getSingleValue(props.style, i).fontSize;\n  });\n\n  var lineHeights = _toConsumableArray(Array(length).keys()).map(function (i) {\n    return getSingleValue(lineHeight, i);\n  });\n\n  if (anchor === \"start\") {\n    return dy + (capHeight / 2 + lineHeights[0] / 2) * fontSizes[0];\n  } else if (props.inline) {\n    return anchor === \"end\" ? dy + (capHeight / 2 - lineHeights[0] / 2) * fontSizes[0] : dy + capHeight / 2 * fontSizes[0];\n  } else if (length === 1) {\n    return anchor === \"end\" ? dy + (capHeight / 2 + (0.5 - length) * lineHeights[0]) * fontSizes[0] : dy + (capHeight / 2 + (0.5 - length / 2) * lineHeights[0]) * fontSizes[0];\n  } else {\n    var allHeights = _toConsumableArray(Array(length).keys()).reduce(function (memo, i) {\n      return memo + (capHeight / 2 - lineHeights[i]) * fontSizes[i];\n    }, 0);\n\n    return anchor === \"end\" ? dy + allHeights : dy + allHeights / 2 + capHeight / 2 * lineHeights[length - 1] * fontSizes[length - 1];\n  }\n};\n\nvar getTransform = function (props) {\n  var x = props.x,\n      y = props.y,\n      polar = props.polar;\n  var style = getSingleValue(props.style);\n  var defaultAngle = polar ? LabelHelpers.getPolarAngle(props) : 0;\n  var baseAngle = style.angle === undefined ? props.angle : style.angle;\n  var angle = baseAngle === undefined ? defaultAngle : baseAngle;\n  var transform = props.transform || style.transform;\n  var transformPart = transform && Helpers.evaluateProp(transform, props);\n  var rotatePart = angle && {\n    rotate: [angle, x, y]\n  };\n  return transformPart || angle ? Style.toTransformString(transformPart, rotatePart) : undefined;\n};\n\nvar getXCoordinate = function (calculatedProps, labelSizeWidth) {\n  var direction = calculatedProps.direction,\n      textAnchor = calculatedProps.textAnchor,\n      x = calculatedProps.x,\n      dx = calculatedProps.dx;\n\n  if (direction === \"rtl\") {\n    return x - labelSizeWidth;\n  }\n\n  switch (textAnchor) {\n    case \"middle\":\n      return Math.round(x - labelSizeWidth / 2);\n\n    case \"end\":\n      return Math.round(x - labelSizeWidth);\n\n    default:\n      // start\n      return x + (dx || 0);\n  }\n};\n\nvar getYCoordinate = function (calculatedProps, textHeight) {\n  var verticalAnchor = calculatedProps.verticalAnchor,\n      y = calculatedProps.y,\n      _calculatedProps$orig = calculatedProps.originalDy,\n      originalDy = _calculatedProps$orig === void 0 ? 0 : _calculatedProps$orig;\n  var offset = y + originalDy;\n\n  switch (verticalAnchor) {\n    case \"start\":\n      return Math.floor(offset);\n\n    case \"end\":\n      return Math.ceil(offset - textHeight);\n\n    default:\n      // middle\n      return Math.floor(offset - textHeight / 2);\n  }\n};\n\nvar getFullBackground = function (calculatedProps, tspanValues) {\n  var _calculatedProps$dx = calculatedProps.dx,\n      dx = _calculatedProps$dx === void 0 ? 0 : _calculatedProps$dx,\n      transform = calculatedProps.transform,\n      backgroundComponent = calculatedProps.backgroundComponent,\n      backgroundStyle = calculatedProps.backgroundStyle,\n      inline = calculatedProps.inline,\n      backgroundPadding = calculatedProps.backgroundPadding,\n      capHeight = calculatedProps.capHeight;\n  var textSizes = tspanValues.map(function (tspan) {\n    return tspan.textSize;\n  });\n  var height = inline ? Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.height;\n  }))) : textSizes.reduce(function (memo, size, i) {\n    var capHeightAdjustment = i ? capHeight / 2 : 0;\n    return memo + size.height * (tspanValues[i].lineHeight - capHeightAdjustment);\n  }, 0);\n  var width = inline ? textSizes.reduce(function (memo, size, index) {\n    var offset = index ? dx : 0;\n    return memo + size.width + offset;\n  }, 0) : Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.width;\n  })));\n  var xCoordinate = getXCoordinate(calculatedProps, width);\n  var yCoordinate = getYCoordinate(calculatedProps, height);\n  var backgroundProps = {\n    key: \"background\",\n    height: height + backgroundPadding.top + backgroundPadding.bottom,\n    style: backgroundStyle,\n    transform: transform,\n    width: width + backgroundPadding.left + backgroundPadding.right,\n    x: inline ? xCoordinate - backgroundPadding.left : xCoordinate + dx - backgroundPadding.left,\n    y: yCoordinate\n  };\n  return React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n};\n\nvar getInlineXOffset = function (calculatedProps, textElements, index) {\n  var textAnchor = calculatedProps.textAnchor;\n  var widths = textElements.map(function (t) {\n    return t.widthWithPadding;\n  });\n  var totalWidth = widths.reduce(function (memo, width) {\n    return memo + width;\n  }, 0);\n  var centerOffset = -totalWidth / 2;\n\n  switch (textAnchor) {\n    case \"start\":\n      return widths.reduce(function (memo, width, i) {\n        memo = i < index ? memo + width : memo;\n        return memo;\n      }, 0);\n\n    case \"end\":\n      return widths.reduce(function (memo, width, i) {\n        memo = i > index ? memo - width : memo;\n        return memo;\n      }, 0);\n\n    default:\n      // middle\n      return widths.reduce(function (memo, width, i) {\n        var offsetWidth = i < index ? width : 0;\n        memo = i === index ? memo + width / 2 : memo + offsetWidth;\n        return memo;\n      }, centerOffset);\n  }\n};\n\nvar getChildBackgrounds = function (calculatedProps, tspanValues) {\n  var dy = calculatedProps.dy,\n      dx = calculatedProps.dx,\n      transform = calculatedProps.transform,\n      backgroundStyle = calculatedProps.backgroundStyle,\n      backgroundPadding = calculatedProps.backgroundPadding,\n      backgroundComponent = calculatedProps.backgroundComponent,\n      inline = calculatedProps.inline,\n      y = calculatedProps.y;\n  var textElements = tspanValues.map(function (current, i) {\n    var previous = getSingleValue(tspanValues, i - 1);\n    var labelSize = current.textSize;\n    var totalLineHeight = current.fontSize * current.lineHeight;\n    var textHeight = Math.ceil(totalLineHeight);\n    var padding = getSingleValue(backgroundPadding, i);\n    var prevPadding = getSingleValue(backgroundPadding, i - 1);\n    var xOffset = inline ? dx || 0 : 0;\n    var childDy = i && !inline ? previous.fontSize * previous.lineHeight + prevPadding.top + prevPadding.bottom : dy - totalLineHeight * 0.5 - (current.fontSize - current.capHeight);\n    return {\n      textHeight: textHeight,\n      labelSize: labelSize,\n      heightWithPadding: textHeight + padding.top + padding.bottom,\n      widthWithPadding: labelSize.width + padding.left + padding.right + xOffset,\n      y: y,\n      fontSize: current.fontSize,\n      dy: childDy\n    };\n  });\n  return textElements.map(function (textElement, i) {\n    var xCoordinate = getXCoordinate(calculatedProps, textElement.labelSize.width);\n    var yCoordinate = textElements.slice(0, i + 1).reduce(function (prev, curr) {\n      return prev + curr.dy;\n    }, y);\n    var padding = getSingleValue(backgroundPadding, i);\n    var height = textElement.heightWithPadding;\n    var xCoord = inline ? getInlineXOffset(calculatedProps, textElements, i) + xCoordinate - padding.left : xCoordinate;\n    var yCoord = inline ? getYCoordinate(calculatedProps, height) - padding.top : yCoordinate;\n    var backgroundProps = {\n      key: \"tspan-background-\".concat(i),\n      height: height,\n      style: getSingleValue(backgroundStyle, i),\n      width: textElement.widthWithPadding,\n      transform: transform,\n      x: xCoord - padding.left,\n      y: yCoord\n    };\n    return React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n  });\n};\n\nvar getBackgroundElement = function (calculatedProps, tspanValues) {\n  return useMultiLineBackgrounds(calculatedProps) ? getChildBackgrounds(calculatedProps, tspanValues) : getFullBackground(calculatedProps, tspanValues);\n};\n\nvar calculateSpanDy = function (tspanValues, i, calculatedProps) {\n  var current = getSingleValue(tspanValues, i);\n  var previous = getSingleValue(tspanValues, i - 1);\n  var previousHeight = previous.fontSize * previous.lineHeight;\n  var currentHeight = current.fontSize * current.lineHeight;\n  var previousCaps = previous.fontSize - previous.capHeight;\n  var currentCaps = current.fontSize - current.capHeight;\n  var textHeight = previousHeight - previous.fontSize / 2 + current.fontSize / 2 - previousHeight / 2 + currentHeight / 2 - currentCaps / 2 + previousCaps / 2;\n  return useMultiLineBackgrounds(calculatedProps) ? textHeight + current.backgroundPadding.top + previous.backgroundPadding.bottom : textHeight;\n};\n\nvar getTSpanDy = function (tspanValues, calculatedProps, i) {\n  var inline = calculatedProps.inline;\n  var current = getSingleValue(tspanValues, i);\n\n  if (i && !inline) {\n    return calculateSpanDy(tspanValues, i, calculatedProps);\n  } else if (inline) {\n    return i === 0 ? current.backgroundPadding.top : undefined;\n  } else {\n    return current.backgroundPadding.top;\n  }\n};\n\nvar evaluateProps = function (props) {\n  /* Potential evaluated props are\n    1) text\n    2) style\n    3) everything else\n  */\n  var text = getContent(props.text, props);\n  var style = getStyles(props.style, _assign({}, props, {\n    text: text\n  }));\n  var backgroundStyle = getBackgroundStyles(props.backgroundStyle, _assign({}, props, {\n    text: text,\n    style: style\n  }));\n  var backgroundPadding = getBackgroundPadding(_assign({}, props, {\n    text: text,\n    style: style,\n    backgroundStyle: backgroundStyle\n  }));\n  var id = Helpers.evaluateProp(props.id, props);\n  return _assign({}, props, {\n    backgroundStyle: backgroundStyle,\n    backgroundPadding: backgroundPadding,\n    style: style,\n    text: text,\n    id: id\n  });\n};\n\nvar getCalculatedProps = function (props) {\n  var style = getSingleValue(props.style);\n  var lineHeight = getLineHeight(props);\n  var direction = props.direction ? Helpers.evaluateProp(props.direction, props) : \"inherit\";\n  var textAnchor = props.textAnchor ? Helpers.evaluateProp(props.textAnchor, props) : style.textAnchor || \"start\";\n  var verticalAnchor = props.verticalAnchor ? Helpers.evaluateProp(props.verticalAnchor, props) : style.verticalAnchor || \"middle\";\n  var dx = props.dx ? Helpers.evaluateProp(props.dx, props) : 0;\n  var dy = getDy(props, verticalAnchor, lineHeight);\n  var transform = getTransform(props);\n  var x = props.x !== undefined ? props.x : getPosition(props, \"x\");\n  var y = props.y !== undefined ? props.y : getPosition(props, \"y\");\n  return _assign({}, props, {\n    lineHeight: lineHeight,\n    direction: direction,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    dx: dx,\n    dy: dy,\n    originalDy: props.dy,\n    transform: transform,\n    x: x,\n    y: y\n  });\n};\n\nvar renderLabel = function (calculatedProps, tspanValues) {\n  var inline = calculatedProps.inline,\n      className = calculatedProps.className,\n      title = calculatedProps.title,\n      events = calculatedProps.events,\n      direction = calculatedProps.direction,\n      text = calculatedProps.text,\n      textAnchor = calculatedProps.textAnchor,\n      dx = calculatedProps.dx,\n      dy = calculatedProps.dy,\n      transform = calculatedProps.transform,\n      x = calculatedProps.x,\n      y = calculatedProps.y,\n      desc = calculatedProps.desc,\n      tabIndex = calculatedProps.tabIndex,\n      id = calculatedProps.id,\n      tspanComponent = calculatedProps.tspanComponent,\n      textComponent = calculatedProps.textComponent;\n\n  var textProps = _objectSpread({\n    key: \"text\"\n  }, events, {\n    direction: direction,\n    dx: dx,\n    x: x,\n    y: y + dy,\n    transform: transform,\n    className: className,\n    title: title,\n    desc: Helpers.evaluateProp(desc, calculatedProps),\n    tabIndex: Helpers.evaluateProp(tabIndex, calculatedProps),\n    id: id\n  });\n\n  var tspans = text.map(function (line, i) {\n    var currentStyle = tspanValues[i].style;\n    var tspanProps = {\n      key: \"\".concat(id, \"-key-\").concat(i),\n      x: !inline ? x : undefined,\n      dx: inline ? dx + tspanValues[i].backgroundPadding.left : dx,\n      dy: getTSpanDy(tspanValues, calculatedProps, i),\n      textAnchor: currentStyle.textAnchor || textAnchor,\n      style: currentStyle,\n      children: line\n    };\n    return React.cloneElement(tspanComponent, tspanProps);\n  });\n  return React.cloneElement(textComponent, textProps, tspans);\n};\n\nvar VictoryLabel = function (props) {\n  props = evaluateProps(props);\n\n  if (props.text === null || props.text === undefined) {\n    return null;\n  }\n\n  var calculatedProps = getCalculatedProps(props);\n  var text = calculatedProps.text,\n      style = calculatedProps.style,\n      capHeight = calculatedProps.capHeight,\n      backgroundPadding = calculatedProps.backgroundPadding,\n      lineHeight = calculatedProps.lineHeight;\n  var tspanValues = text.map(function (line, i) {\n    var currentStyle = getSingleValue(style, i);\n    var capHeightPx = TextSize.convertLengthToPixels(\"\".concat(capHeight, \"em\"), currentStyle.fontSize);\n    var currentLineHeight = getSingleValue(lineHeight, i);\n    return {\n      style: currentStyle,\n      fontSize: currentStyle.fontSize || defaultStyles.fontSize,\n      capHeight: capHeightPx,\n      text: line,\n      textSize: TextSize.approximateTextSize(line, currentStyle),\n      lineHeight: currentLineHeight,\n      backgroundPadding: getSingleValue(backgroundPadding, i)\n    };\n  });\n  var label = renderLabel(calculatedProps, tspanValues);\n\n  if (props.backgroundStyle) {\n    var backgroundElement = getBackgroundElement(calculatedProps, tspanValues);\n    var children = [backgroundElement, label];\n    var backgroundWithLabel = React.cloneElement(props.groupComponent, {}, children);\n    return props.renderInPortal ? React.createElement(VictoryPortal, null, backgroundWithLabel) : backgroundWithLabel;\n  }\n\n  return props.renderInPortal ? React.createElement(VictoryPortal, null, label) : label;\n};\n\nVictoryLabel.displayName = \"VictoryLabel\";\nVictoryLabel.role = \"label\";\nVictoryLabel.defaultStyles = defaultStyles;\nVictoryLabel.propTypes = {\n  active: PropTypes.bool,\n  angle: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  backgroundComponent: PropTypes.element,\n  backgroundPadding: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  backgroundStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  capHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func]),\n  className: PropTypes.string,\n  data: PropTypes.array,\n  datum: PropTypes.any,\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  direction: PropTypes.oneOf([\"rtl\", \"ltr\", \"inherit\"]),\n  dx: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  dy: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  events: PropTypes.object,\n  groupComponent: PropTypes.element,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  inline: PropTypes.bool,\n  labelPlacement: PropTypes.oneOf([\"parallel\", \"perpendicular\", \"vertical\"]),\n  lineHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func, PropTypes.array]),\n  origin: PropTypes.shape({\n    x: CustomPropTypes.nonNegative,\n    y: CustomPropTypes.nonNegative\n  }),\n  polar: PropTypes.bool,\n  renderInPortal: PropTypes.bool,\n  scale: PropTypes.shape({\n    x: CustomPropTypes.scale,\n    y: CustomPropTypes.scale\n  }),\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func, PropTypes.array]),\n  textAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\", \"inherit\"]), PropTypes.func]),\n  textComponent: PropTypes.element,\n  title: PropTypes.string,\n  transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]),\n  tspanComponent: PropTypes.element,\n  verticalAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\"]), PropTypes.func]),\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\nVictoryLabel.defaultProps = {\n  backgroundComponent: React.createElement(Rect, null),\n  groupComponent: React.createElement(\"g\", null),\n  direction: \"inherit\",\n  textComponent: React.createElement(Text, null),\n  tspanComponent: React.createElement(TSpan, null),\n  capHeight: 0.71,\n  // Magic number from d3.\n  lineHeight: 1\n};\nexport default VictoryLabel;","map":{"version":3,"sources":["/home/lucas/node_projects/dogs-final/node_modules/victory-core/es/victory-label/victory-label.js"],"names":["_isEmpty","_defaults","_assign","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","prototype","toString","call","Array","from","isArray","arr2","React","PropTypes","VictoryPortal","Rect","CustomPropTypes","Helpers","LabelHelpers","Style","Log","TextSize","TSpan","Text","defaultStyles","fill","fontSize","fontFamily","stroke","getPosition","props","dimension","datum","scaledPoint","scalePoint","getFontSize","style","baseSize","undefined","replace","isNaN","warn","getSingleValue","prop","index","useMultiLineBackgrounds","backgroundStyle","backgroundPadding","getStyles","getSingleStyle","s","baseStyles","evaluateStyle","map","getBackgroundStyles","getBackgroundPadding","padding","evaluateProp","getPadding","getLineHeight","lineHeight","getContent","text","line","child","split","getDy","verticalAnchor","dy","inline","capHeight","anchor","fontSizes","lineHeights","allHeights","reduce","memo","getTransform","x","y","polar","defaultAngle","getPolarAngle","baseAngle","angle","transform","transformPart","rotatePart","rotate","toTransformString","getXCoordinate","calculatedProps","labelSizeWidth","direction","textAnchor","dx","Math","round","getYCoordinate","textHeight","_calculatedProps$orig","originalDy","offset","floor","ceil","getFullBackground","tspanValues","_calculatedProps$dx","backgroundComponent","textSizes","tspan","textSize","height","max","apply","size","capHeightAdjustment","width","xCoordinate","yCoordinate","backgroundProps","top","bottom","left","right","cloneElement","getInlineXOffset","textElements","widths","t","widthWithPadding","totalWidth","centerOffset","offsetWidth","getChildBackgrounds","current","previous","labelSize","totalLineHeight","prevPadding","xOffset","childDy","heightWithPadding","textElement","slice","prev","curr","xCoord","yCoord","getBackgroundElement","calculateSpanDy","previousHeight","currentHeight","previousCaps","currentCaps","getTSpanDy","evaluateProps","id","getCalculatedProps","renderLabel","className","title","events","desc","tabIndex","tspanComponent","textComponent","textProps","tspans","currentStyle","tspanProps","children","VictoryLabel","capHeightPx","convertLengthToPixels","currentLineHeight","approximateTextSize","label","backgroundElement","backgroundWithLabel","groupComponent","renderInPortal","createElement","displayName","role","propTypes","active","bool","oneOfType","string","number","element","object","array","nonNegative","func","data","any","oneOf","labelPlacement","origin","shape","scale","defaultProps"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,gBAArB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,OAAP,MAAoB,eAApB;;AAEA,SAASC,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;AAAuD,QAAII,OAAO,GAAGC,MAAM,CAACC,IAAP,CAAYH,MAAZ,CAAd;;AAAmC,QAAI,OAAOE,MAAM,CAACE,qBAAd,KAAwC,UAA5C,EAAwD;AAAEH,MAAAA,OAAO,GAAGA,OAAO,CAACI,MAAR,CAAeH,MAAM,CAACE,qBAAP,CAA6BJ,MAA7B,EAAqCM,MAArC,CAA4C,UAAUC,GAAV,EAAe;AAAE,eAAOL,MAAM,CAACM,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;AAAiE,OAA9H,CAAf,CAAV;AAA4J;;AAACR,IAAAA,OAAO,CAACS,OAAR,CAAgB,UAAUC,GAAV,EAAe;AAAEC,MAAAA,eAAe,CAAChB,MAAD,EAASe,GAAT,EAAcX,MAAM,CAACW,GAAD,CAApB,CAAf;AAA4C,KAA7E;AAAiF;;AAAC,SAAOf,MAAP;AAAgB;;AAEje,SAASgB,eAAT,CAAyBC,GAAzB,EAA8BF,GAA9B,EAAmCG,KAAnC,EAA0C;AAAE,MAAIH,GAAG,IAAIE,GAAX,EAAgB;AAAEX,IAAAA,MAAM,CAACa,cAAP,CAAsBF,GAAtB,EAA2BF,GAA3B,EAAgC;AAAEG,MAAAA,KAAK,EAAEA,KAAT;AAAgBL,MAAAA,UAAU,EAAE,IAA5B;AAAkCO,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEJ,IAAAA,GAAG,CAACF,GAAD,CAAH,GAAWG,KAAX;AAAmB;;AAAC,SAAOD,GAAP;AAAa;;AAEjN,SAASK,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,SAAOC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,kBAAkB,EAA7E;AAAkF;;AAErH,SAASA,kBAAT,GAA8B;AAAE,QAAM,IAAIC,SAAJ,CAAc,iDAAd,CAAN;AAAyE;;AAEzG,SAASF,gBAAT,CAA0BG,IAA1B,EAAgC;AAAE,MAAIC,MAAM,CAACC,QAAP,IAAmBxB,MAAM,CAACsB,IAAD,CAAzB,IAAmCtB,MAAM,CAACyB,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,IAA/B,MAAyC,oBAAhF,EAAsG,OAAOM,KAAK,CAACC,IAAN,CAAWP,IAAX,CAAP;AAA0B;;AAElK,SAASJ,kBAAT,CAA4BD,GAA5B,EAAiC;AAAE,MAAIW,KAAK,CAACE,OAAN,CAAcb,GAAd,CAAJ,EAAwB;AAAE,SAAK,IAAItB,CAAC,GAAG,CAAR,EAAWoC,IAAI,GAAG,IAAIH,KAAJ,CAAUX,GAAG,CAACpB,MAAd,CAAvB,EAA8CF,CAAC,GAAGsB,GAAG,CAACpB,MAAtD,EAA8DF,CAAC,EAA/D,EAAmE;AAAEoC,MAAAA,IAAI,CAACpC,CAAD,CAAJ,GAAUsB,GAAG,CAACtB,CAAD,CAAb;AAAmB;;AAAC,WAAOoC,IAAP;AAAc;AAAE;AAEtK;;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,eAAP,MAA4B,4BAA5B;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,IAAIC,aAAa,GAAG;AAClBC,EAAAA,IAAI,EAAE,SADY;AAElBC,EAAAA,QAAQ,EAAE,EAFQ;AAGlBC,EAAAA,UAAU,EAAE,qEAHM;AAIlBC,EAAAA,MAAM,EAAE;AAJU,CAApB;;AAOA,IAAIC,WAAW,GAAG,UAAUC,KAAV,EAAiBC,SAAjB,EAA4B;AAC5C,MAAI,CAACD,KAAK,CAACE,KAAX,EAAkB;AAChB,WAAO,CAAP;AACD;;AAED,MAAIC,WAAW,GAAGhB,OAAO,CAACiB,UAAR,CAAmBJ,KAAnB,EAA0BA,KAAK,CAACE,KAAhC,CAAlB;AACA,SAAOC,WAAW,CAACF,SAAD,CAAlB;AACD,CAPD;;AASA,IAAII,WAAW,GAAG,UAAUC,KAAV,EAAiB;AACjC,MAAIC,QAAQ,GAAGD,KAAK,IAAIA,KAAK,CAACV,QAA9B;;AAEA,MAAI,OAAOW,QAAP,KAAoB,QAAxB,EAAkC;AAChC,WAAOA,QAAP;AACD,GAFD,MAEO,IAAIA,QAAQ,KAAKC,SAAb,IAA0BD,QAAQ,KAAK,IAA3C,EAAiD;AACtD,WAAOb,aAAa,CAACE,QAArB;AACD,GAFM,MAEA,IAAI,OAAOW,QAAP,KAAoB,QAAxB,EAAkC;AACvC,QAAIX,QAAQ,GAAG,CAACW,QAAQ,CAACE,OAAT,CAAiB,IAAjB,EAAuB,EAAvB,CAAhB;;AAEA,QAAI,CAACC,KAAK,CAACd,QAAD,CAAV,EAAsB;AACpB,aAAOA,QAAP;AACD,KAFD,MAEO;AACLN,MAAAA,GAAG,CAACqB,IAAJ,CAAS,oDAAT;AACA,aAAOjB,aAAa,CAACE,QAArB;AACD;AACF;;AAED,SAAOF,aAAa,CAACE,QAArB;AACD,CAnBD;;AAqBA,IAAIgB,cAAc,GAAG,UAAUC,IAAV,EAAgB;AACnC,MAAIC,KAAK,GAAGpE,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8D,SAAzC,GAAqD9D,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAhF;AACA,SAAOgC,KAAK,CAACE,OAAN,CAAciC,IAAd,IAAsBA,IAAI,CAACC,KAAD,CAAJ,IAAeD,IAAI,CAAC,CAAD,CAAzC,GAA+CA,IAAtD;AACD,CAHD;;AAKA,IAAIE,uBAAuB,GAAG,UAAUf,KAAV,EAAiB;AAC7C,MAAIgB,eAAe,GAAGhB,KAAK,CAACgB,eAA5B;AAAA,MACIC,iBAAiB,GAAGjB,KAAK,CAACiB,iBAD9B;AAEA,SAAOvC,KAAK,CAACE,OAAN,CAAcoC,eAAd,KAAkC,CAAC5E,QAAQ,CAAC4E,eAAD,CAA3C,IAAgEtC,KAAK,CAACE,OAAN,CAAcqC,iBAAd,KAAoC,CAAC7E,QAAQ,CAAC6E,iBAAD,CAApH;AACD,CAJD;;AAMA,IAAIC,SAAS,GAAG,UAAUZ,KAAV,EAAiBN,KAAjB,EAAwB;AACtC,MAAImB,cAAc,GAAG,UAAUC,CAAV,EAAa;AAChCA,IAAAA,CAAC,GAAGA,CAAC,GAAG/E,SAAS,CAAC,EAAD,EAAK+E,CAAL,EAAQ1B,aAAR,CAAZ,GAAqCA,aAA1C;AACA,QAAI2B,UAAU,GAAGlC,OAAO,CAACmC,aAAR,CAAsBF,CAAtB,EAAyBpB,KAAzB,CAAjB;AACA,WAAO1D,OAAO,CAAC,EAAD,EAAK+E,UAAL,EAAiB;AAC7BzB,MAAAA,QAAQ,EAAES,WAAW,CAACgB,UAAD;AADQ,KAAjB,CAAd;AAGD,GAND;;AAQA,SAAO3C,KAAK,CAACE,OAAN,CAAc0B,KAAd,KAAwB,CAAClE,QAAQ,CAACkE,KAAD,CAAjC,GAA2CA,KAAK,CAACiB,GAAN,CAAU,UAAUH,CAAV,EAAa;AACvE,WAAOD,cAAc,CAACC,CAAD,CAArB;AACD,GAFiD,CAA3C,GAEFD,cAAc,CAACb,KAAD,CAFnB;AAGD,CAZD;;AAcA,IAAIkB,mBAAmB,GAAG,UAAUlB,KAAV,EAAiBN,KAAjB,EAAwB;AAChD,MAAI,CAACM,KAAL,EAAY;AACV,WAAOE,SAAP;AACD;;AAED,SAAO9B,KAAK,CAACE,OAAN,CAAc0B,KAAd,KAAwB,CAAClE,QAAQ,CAACkE,KAAD,CAAjC,GAA2CA,KAAK,CAACiB,GAAN,CAAU,UAAUH,CAAV,EAAa;AACvE,WAAOjC,OAAO,CAACmC,aAAR,CAAsBF,CAAtB,EAAyBpB,KAAzB,CAAP;AACD,GAFiD,CAA3C,GAEFb,OAAO,CAACmC,aAAR,CAAsBhB,KAAtB,CAFL;AAGD,CARD;;AAUA,IAAImB,oBAAoB,GAAG,UAAUzB,KAAV,EAAiB;AAC1C,MAAIA,KAAK,CAACiB,iBAAN,IAA2BvC,KAAK,CAACE,OAAN,CAAcoB,KAAK,CAACiB,iBAApB,CAA/B,EAAuE;AACrE,WAAOjB,KAAK,CAACiB,iBAAN,CAAwBM,GAAxB,CAA4B,UAAUN,iBAAV,EAA6B;AAC9D,UAAIS,OAAO,GAAGvC,OAAO,CAACwC,YAAR,CAAqBV,iBAArB,EAAwCjB,KAAxC,CAAd;AACA,aAAOb,OAAO,CAACyC,UAAR,CAAmB;AACxBF,QAAAA,OAAO,EAAEA;AADe,OAAnB,CAAP;AAGD,KALM,CAAP;AAMD,GAPD,MAOO;AACL,QAAIA,OAAO,GAAGvC,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAACiB,iBAA3B,EAA8CjB,KAA9C,CAAd;AACA,WAAOb,OAAO,CAACyC,UAAR,CAAmB;AACxBF,MAAAA,OAAO,EAAEA;AADe,KAAnB,CAAP;AAGD;AACF,CAdD;;AAgBA,IAAIG,aAAa,GAAG,UAAU7B,KAAV,EAAiB;AACnC,MAAI8B,UAAU,GAAG3C,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAAC8B,UAA3B,EAAuC9B,KAAvC,CAAjB;;AAEA,MAAItB,KAAK,CAACE,OAAN,CAAckD,UAAd,CAAJ,EAA+B;AAC7B,WAAO1F,QAAQ,CAAC0F,UAAD,CAAR,GAAuB,CAAC,CAAD,CAAvB,GAA6BA,UAApC;AACD,GAFD,MAEO;AACL,WAAOA,UAAP;AACD;AACF,CARD;;AAUA,IAAIC,UAAU,GAAG,UAAUC,IAAV,EAAgBhC,KAAhB,EAAuB;AACtC,MAAIgC,IAAI,KAAKxB,SAAT,IAAsBwB,IAAI,KAAK,IAAnC,EAAyC;AACvC,WAAOxB,SAAP;AACD;;AAED,MAAI9B,KAAK,CAACE,OAAN,CAAcoD,IAAd,CAAJ,EAAyB;AACvB,WAAOA,IAAI,CAACT,GAAL,CAAS,UAAUU,IAAV,EAAgB;AAC9B,aAAO9C,OAAO,CAACwC,YAAR,CAAqBM,IAArB,EAA2BjC,KAA3B,CAAP;AACD,KAFM,CAAP;AAGD;;AAED,MAAIkC,KAAK,GAAG/C,OAAO,CAACwC,YAAR,CAAqBK,IAArB,EAA2BhC,KAA3B,CAAZ;;AAEA,MAAIkC,KAAK,KAAK1B,SAAV,IAAuB0B,KAAK,KAAK,IAArC,EAA2C;AACzC,WAAO1B,SAAP;AACD;;AAED,SAAO9B,KAAK,CAACE,OAAN,CAAcsD,KAAd,IAAuBA,KAAvB,GAA+B,GAAGjF,MAAH,CAAUiF,KAAV,EAAiBC,KAAjB,CAAuB,IAAvB,CAAtC;AACD,CAlBD;;AAoBA,IAAIC,KAAK,GAAG,UAAUpC,KAAV,EAAiBqC,cAAjB,EAAiCP,UAAjC,EAA6C;AACvD,MAAIQ,EAAE,GAAGtC,KAAK,CAACsC,EAAN,GAAWnD,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAACsC,EAA3B,EAA+BtC,KAA/B,CAAX,GAAmD,CAA5D;AACA,MAAIrD,MAAM,GAAGqD,KAAK,CAACuC,MAAN,GAAe,CAAf,GAAmBvC,KAAK,CAACgC,IAAN,CAAWrF,MAA3C;AACA,MAAI6F,SAAS,GAAGrD,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAACwC,SAA3B,EAAsCxC,KAAtC,CAAhB;AACA,MAAIyC,MAAM,GAAGJ,cAAc,GAAGlD,OAAO,CAACwC,YAAR,CAAqBU,cAArB,EAAqCrC,KAArC,CAAH,GAAiD,QAA5E;;AAEA,MAAI0C,SAAS,GAAG5E,kBAAkB,CAACY,KAAK,CAAC/B,MAAD,CAAL,CAAcI,IAAd,EAAD,CAAlB,CAAyCwE,GAAzC,CAA6C,UAAU9E,CAAV,EAAa;AACxE,WAAOmE,cAAc,CAACZ,KAAK,CAACM,KAAP,EAAc7D,CAAd,CAAd,CAA+BmD,QAAtC;AACD,GAFe,CAAhB;;AAIA,MAAI+C,WAAW,GAAG7E,kBAAkB,CAACY,KAAK,CAAC/B,MAAD,CAAL,CAAcI,IAAd,EAAD,CAAlB,CAAyCwE,GAAzC,CAA6C,UAAU9E,CAAV,EAAa;AAC1E,WAAOmE,cAAc,CAACkB,UAAD,EAAarF,CAAb,CAArB;AACD,GAFiB,CAAlB;;AAIA,MAAIgG,MAAM,KAAK,OAAf,EAAwB;AACtB,WAAOH,EAAE,GAAG,CAACE,SAAS,GAAG,CAAZ,GAAgBG,WAAW,CAAC,CAAD,CAAX,GAAiB,CAAlC,IAAuCD,SAAS,CAAC,CAAD,CAA5D;AACD,GAFD,MAEO,IAAI1C,KAAK,CAACuC,MAAV,EAAkB;AACvB,WAAOE,MAAM,KAAK,KAAX,GAAmBH,EAAE,GAAG,CAACE,SAAS,GAAG,CAAZ,GAAgBG,WAAW,CAAC,CAAD,CAAX,GAAiB,CAAlC,IAAuCD,SAAS,CAAC,CAAD,CAAxE,GAA8EJ,EAAE,GAAGE,SAAS,GAAG,CAAZ,GAAgBE,SAAS,CAAC,CAAD,CAAnH;AACD,GAFM,MAEA,IAAI/F,MAAM,KAAK,CAAf,EAAkB;AACvB,WAAO8F,MAAM,KAAK,KAAX,GAAmBH,EAAE,GAAG,CAACE,SAAS,GAAG,CAAZ,GAAgB,CAAC,MAAM7F,MAAP,IAAiBgG,WAAW,CAAC,CAAD,CAA7C,IAAoDD,SAAS,CAAC,CAAD,CAArF,GAA2FJ,EAAE,GAAG,CAACE,SAAS,GAAG,CAAZ,GAAgB,CAAC,MAAM7F,MAAM,GAAG,CAAhB,IAAqBgG,WAAW,CAAC,CAAD,CAAjD,IAAwDD,SAAS,CAAC,CAAD,CAAxK;AACD,GAFM,MAEA;AACL,QAAIE,UAAU,GAAG9E,kBAAkB,CAACY,KAAK,CAAC/B,MAAD,CAAL,CAAcI,IAAd,EAAD,CAAlB,CAAyC8F,MAAzC,CAAgD,UAAUC,IAAV,EAAgBrG,CAAhB,EAAmB;AAClF,aAAOqG,IAAI,GAAG,CAACN,SAAS,GAAG,CAAZ,GAAgBG,WAAW,CAAClG,CAAD,CAA5B,IAAmCiG,SAAS,CAACjG,CAAD,CAA1D;AACD,KAFgB,EAEd,CAFc,CAAjB;;AAIA,WAAOgG,MAAM,KAAK,KAAX,GAAmBH,EAAE,GAAGM,UAAxB,GAAqCN,EAAE,GAAGM,UAAU,GAAG,CAAlB,GAAsBJ,SAAS,GAAG,CAAZ,GAAgBG,WAAW,CAAChG,MAAM,GAAG,CAAV,CAA3B,GAA0C+F,SAAS,CAAC/F,MAAM,GAAG,CAAV,CAArH;AACD;AACF,CA3BD;;AA6BA,IAAIoG,YAAY,GAAG,UAAU/C,KAAV,EAAiB;AAClC,MAAIgD,CAAC,GAAGhD,KAAK,CAACgD,CAAd;AAAA,MACIC,CAAC,GAAGjD,KAAK,CAACiD,CADd;AAAA,MAEIC,KAAK,GAAGlD,KAAK,CAACkD,KAFlB;AAGA,MAAI5C,KAAK,GAAGM,cAAc,CAACZ,KAAK,CAACM,KAAP,CAA1B;AACA,MAAI6C,YAAY,GAAGD,KAAK,GAAG9D,YAAY,CAACgE,aAAb,CAA2BpD,KAA3B,CAAH,GAAuC,CAA/D;AACA,MAAIqD,SAAS,GAAG/C,KAAK,CAACgD,KAAN,KAAgB9C,SAAhB,GAA4BR,KAAK,CAACsD,KAAlC,GAA0ChD,KAAK,CAACgD,KAAhE;AACA,MAAIA,KAAK,GAAGD,SAAS,KAAK7C,SAAd,GAA0B2C,YAA1B,GAAyCE,SAArD;AACA,MAAIE,SAAS,GAAGvD,KAAK,CAACuD,SAAN,IAAmBjD,KAAK,CAACiD,SAAzC;AACA,MAAIC,aAAa,GAAGD,SAAS,IAAIpE,OAAO,CAACwC,YAAR,CAAqB4B,SAArB,EAAgCvD,KAAhC,CAAjC;AACA,MAAIyD,UAAU,GAAGH,KAAK,IAAI;AACxBI,IAAAA,MAAM,EAAE,CAACJ,KAAD,EAAQN,CAAR,EAAWC,CAAX;AADgB,GAA1B;AAGA,SAAOO,aAAa,IAAIF,KAAjB,GAAyBjE,KAAK,CAACsE,iBAAN,CAAwBH,aAAxB,EAAuCC,UAAvC,CAAzB,GAA8EjD,SAArF;AACD,CAdD;;AAgBA,IAAIoD,cAAc,GAAG,UAAUC,eAAV,EAA2BC,cAA3B,EAA2C;AAC9D,MAAIC,SAAS,GAAGF,eAAe,CAACE,SAAhC;AAAA,MACIC,UAAU,GAAGH,eAAe,CAACG,UADjC;AAAA,MAEIhB,CAAC,GAAGa,eAAe,CAACb,CAFxB;AAAA,MAGIiB,EAAE,GAAGJ,eAAe,CAACI,EAHzB;;AAKA,MAAIF,SAAS,KAAK,KAAlB,EAAyB;AACvB,WAAOf,CAAC,GAAGc,cAAX;AACD;;AAED,UAAQE,UAAR;AACE,SAAK,QAAL;AACE,aAAOE,IAAI,CAACC,KAAL,CAAWnB,CAAC,GAAGc,cAAc,GAAG,CAAhC,CAAP;;AAEF,SAAK,KAAL;AACE,aAAOI,IAAI,CAACC,KAAL,CAAWnB,CAAC,GAAGc,cAAf,CAAP;;AAEF;AACE;AACA,aAAOd,CAAC,IAAIiB,EAAE,IAAI,CAAV,CAAR;AATJ;AAWD,CArBD;;AAuBA,IAAIG,cAAc,GAAG,UAAUP,eAAV,EAA2BQ,UAA3B,EAAuC;AAC1D,MAAIhC,cAAc,GAAGwB,eAAe,CAACxB,cAArC;AAAA,MACIY,CAAC,GAAGY,eAAe,CAACZ,CADxB;AAAA,MAEIqB,qBAAqB,GAAGT,eAAe,CAACU,UAF5C;AAAA,MAGIA,UAAU,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,CAAnC,GAAuCA,qBAHxD;AAIA,MAAIE,MAAM,GAAGvB,CAAC,GAAGsB,UAAjB;;AAEA,UAAQlC,cAAR;AACE,SAAK,OAAL;AACE,aAAO6B,IAAI,CAACO,KAAL,CAAWD,MAAX,CAAP;;AAEF,SAAK,KAAL;AACE,aAAON,IAAI,CAACQ,IAAL,CAAUF,MAAM,GAAGH,UAAnB,CAAP;;AAEF;AACE;AACA,aAAOH,IAAI,CAACO,KAAL,CAAWD,MAAM,GAAGH,UAAU,GAAG,CAAjC,CAAP;AATJ;AAWD,CAlBD;;AAoBA,IAAIM,iBAAiB,GAAG,UAAUd,eAAV,EAA2Be,WAA3B,EAAwC;AAC9D,MAAIC,mBAAmB,GAAGhB,eAAe,CAACI,EAA1C;AAAA,MACIA,EAAE,GAAGY,mBAAmB,KAAK,KAAK,CAA7B,GAAiC,CAAjC,GAAqCA,mBAD9C;AAAA,MAEItB,SAAS,GAAGM,eAAe,CAACN,SAFhC;AAAA,MAGIuB,mBAAmB,GAAGjB,eAAe,CAACiB,mBAH1C;AAAA,MAII9D,eAAe,GAAG6C,eAAe,CAAC7C,eAJtC;AAAA,MAKIuB,MAAM,GAAGsB,eAAe,CAACtB,MAL7B;AAAA,MAMItB,iBAAiB,GAAG4C,eAAe,CAAC5C,iBANxC;AAAA,MAOIuB,SAAS,GAAGqB,eAAe,CAACrB,SAPhC;AAQA,MAAIuC,SAAS,GAAGH,WAAW,CAACrD,GAAZ,CAAgB,UAAUyD,KAAV,EAAiB;AAC/C,WAAOA,KAAK,CAACC,QAAb;AACD,GAFe,CAAhB;AAGA,MAAIC,MAAM,GAAG3C,MAAM,GAAG2B,IAAI,CAACiB,GAAL,CAASC,KAAT,CAAelB,IAAf,EAAqBpG,kBAAkB,CAACiH,SAAS,CAACxD,GAAV,CAAc,UAAU8D,IAAV,EAAgB;AAC1F,WAAOA,IAAI,CAACH,MAAZ;AACD,GAF6D,CAAD,CAAvC,CAAH,GAEZH,SAAS,CAAClC,MAAV,CAAiB,UAAUC,IAAV,EAAgBuC,IAAhB,EAAsB5I,CAAtB,EAAyB;AAC/C,QAAI6I,mBAAmB,GAAG7I,CAAC,GAAG+F,SAAS,GAAG,CAAf,GAAmB,CAA9C;AACA,WAAOM,IAAI,GAAGuC,IAAI,CAACH,MAAL,IAAeN,WAAW,CAACnI,CAAD,CAAX,CAAeqF,UAAf,GAA4BwD,mBAA3C,CAAd;AACD,GAHM,EAGJ,CAHI,CAFP;AAMA,MAAIC,KAAK,GAAGhD,MAAM,GAAGwC,SAAS,CAAClC,MAAV,CAAiB,UAAUC,IAAV,EAAgBuC,IAAhB,EAAsBvE,KAAtB,EAA6B;AACjE,QAAI0D,MAAM,GAAG1D,KAAK,GAAGmD,EAAH,GAAQ,CAA1B;AACA,WAAOnB,IAAI,GAAGuC,IAAI,CAACE,KAAZ,GAAoBf,MAA3B;AACD,GAHoB,EAGlB,CAHkB,CAAH,GAGVN,IAAI,CAACiB,GAAL,CAASC,KAAT,CAAelB,IAAf,EAAqBpG,kBAAkB,CAACiH,SAAS,CAACxD,GAAV,CAAc,UAAU8D,IAAV,EAAgB;AAC5E,WAAOA,IAAI,CAACE,KAAZ;AACD,GAF+C,CAAD,CAAvC,CAHR;AAMA,MAAIC,WAAW,GAAG5B,cAAc,CAACC,eAAD,EAAkB0B,KAAlB,CAAhC;AACA,MAAIE,WAAW,GAAGrB,cAAc,CAACP,eAAD,EAAkBqB,MAAlB,CAAhC;AACA,MAAIQ,eAAe,GAAG;AACpBnI,IAAAA,GAAG,EAAE,YADe;AAEpB2H,IAAAA,MAAM,EAAEA,MAAM,GAAGjE,iBAAiB,CAAC0E,GAA3B,GAAiC1E,iBAAiB,CAAC2E,MAFvC;AAGpBtF,IAAAA,KAAK,EAAEU,eAHa;AAIpBuC,IAAAA,SAAS,EAAEA,SAJS;AAKpBgC,IAAAA,KAAK,EAAEA,KAAK,GAAGtE,iBAAiB,CAAC4E,IAA1B,GAAiC5E,iBAAiB,CAAC6E,KALtC;AAMpB9C,IAAAA,CAAC,EAAET,MAAM,GAAGiD,WAAW,GAAGvE,iBAAiB,CAAC4E,IAAnC,GAA0CL,WAAW,GAAGvB,EAAd,GAAmBhD,iBAAiB,CAAC4E,IANpE;AAOpB5C,IAAAA,CAAC,EAAEwC;AAPiB,GAAtB;AASA,SAAO3G,KAAK,CAACiH,YAAN,CAAmBjB,mBAAnB,EAAwCzI,SAAS,CAAC,EAAD,EAAKyI,mBAAmB,CAAC9E,KAAzB,EAAgC0F,eAAhC,CAAjD,CAAP;AACD,CApCD;;AAsCA,IAAIM,gBAAgB,GAAG,UAAUnC,eAAV,EAA2BoC,YAA3B,EAAyCnF,KAAzC,EAAgD;AACrE,MAAIkD,UAAU,GAAGH,eAAe,CAACG,UAAjC;AACA,MAAIkC,MAAM,GAAGD,YAAY,CAAC1E,GAAb,CAAiB,UAAU4E,CAAV,EAAa;AACzC,WAAOA,CAAC,CAACC,gBAAT;AACD,GAFY,CAAb;AAGA,MAAIC,UAAU,GAAGH,MAAM,CAACrD,MAAP,CAAc,UAAUC,IAAV,EAAgByC,KAAhB,EAAuB;AACpD,WAAOzC,IAAI,GAAGyC,KAAd;AACD,GAFgB,EAEd,CAFc,CAAjB;AAGA,MAAIe,YAAY,GAAG,CAACD,UAAD,GAAc,CAAjC;;AAEA,UAAQrC,UAAR;AACE,SAAK,OAAL;AACE,aAAOkC,MAAM,CAACrD,MAAP,CAAc,UAAUC,IAAV,EAAgByC,KAAhB,EAAuB9I,CAAvB,EAA0B;AAC7CqG,QAAAA,IAAI,GAAGrG,CAAC,GAAGqE,KAAJ,GAAYgC,IAAI,GAAGyC,KAAnB,GAA2BzC,IAAlC;AACA,eAAOA,IAAP;AACD,OAHM,EAGJ,CAHI,CAAP;;AAKF,SAAK,KAAL;AACE,aAAOoD,MAAM,CAACrD,MAAP,CAAc,UAAUC,IAAV,EAAgByC,KAAhB,EAAuB9I,CAAvB,EAA0B;AAC7CqG,QAAAA,IAAI,GAAGrG,CAAC,GAAGqE,KAAJ,GAAYgC,IAAI,GAAGyC,KAAnB,GAA2BzC,IAAlC;AACA,eAAOA,IAAP;AACD,OAHM,EAGJ,CAHI,CAAP;;AAKF;AACE;AACA,aAAOoD,MAAM,CAACrD,MAAP,CAAc,UAAUC,IAAV,EAAgByC,KAAhB,EAAuB9I,CAAvB,EAA0B;AAC7C,YAAI8J,WAAW,GAAG9J,CAAC,GAAGqE,KAAJ,GAAYyE,KAAZ,GAAoB,CAAtC;AACAzC,QAAAA,IAAI,GAAGrG,CAAC,KAAKqE,KAAN,GAAcgC,IAAI,GAAGyC,KAAK,GAAG,CAA7B,GAAiCzC,IAAI,GAAGyD,WAA/C;AACA,eAAOzD,IAAP;AACD,OAJM,EAIJwD,YAJI,CAAP;AAfJ;AAqBD,CA/BD;;AAiCA,IAAIE,mBAAmB,GAAG,UAAU3C,eAAV,EAA2Be,WAA3B,EAAwC;AAChE,MAAItC,EAAE,GAAGuB,eAAe,CAACvB,EAAzB;AAAA,MACI2B,EAAE,GAAGJ,eAAe,CAACI,EADzB;AAAA,MAEIV,SAAS,GAAGM,eAAe,CAACN,SAFhC;AAAA,MAGIvC,eAAe,GAAG6C,eAAe,CAAC7C,eAHtC;AAAA,MAIIC,iBAAiB,GAAG4C,eAAe,CAAC5C,iBAJxC;AAAA,MAKI6D,mBAAmB,GAAGjB,eAAe,CAACiB,mBAL1C;AAAA,MAMIvC,MAAM,GAAGsB,eAAe,CAACtB,MAN7B;AAAA,MAOIU,CAAC,GAAGY,eAAe,CAACZ,CAPxB;AAQA,MAAIgD,YAAY,GAAGrB,WAAW,CAACrD,GAAZ,CAAgB,UAAUkF,OAAV,EAAmBhK,CAAnB,EAAsB;AACvD,QAAIiK,QAAQ,GAAG9F,cAAc,CAACgE,WAAD,EAAcnI,CAAC,GAAG,CAAlB,CAA7B;AACA,QAAIkK,SAAS,GAAGF,OAAO,CAACxB,QAAxB;AACA,QAAI2B,eAAe,GAAGH,OAAO,CAAC7G,QAAR,GAAmB6G,OAAO,CAAC3E,UAAjD;AACA,QAAIuC,UAAU,GAAGH,IAAI,CAACQ,IAAL,CAAUkC,eAAV,CAAjB;AACA,QAAIlF,OAAO,GAAGd,cAAc,CAACK,iBAAD,EAAoBxE,CAApB,CAA5B;AACA,QAAIoK,WAAW,GAAGjG,cAAc,CAACK,iBAAD,EAAoBxE,CAAC,GAAG,CAAxB,CAAhC;AACA,QAAIqK,OAAO,GAAGvE,MAAM,GAAG0B,EAAE,IAAI,CAAT,GAAa,CAAjC;AACA,QAAI8C,OAAO,GAAGtK,CAAC,IAAI,CAAC8F,MAAN,GAAemE,QAAQ,CAAC9G,QAAT,GAAoB8G,QAAQ,CAAC5E,UAA7B,GAA0C+E,WAAW,CAAClB,GAAtD,GAA4DkB,WAAW,CAACjB,MAAvF,GAAgGtD,EAAE,GAAGsE,eAAe,GAAG,GAAvB,IAA8BH,OAAO,CAAC7G,QAAR,GAAmB6G,OAAO,CAACjE,SAAzD,CAA9G;AACA,WAAO;AACL6B,MAAAA,UAAU,EAAEA,UADP;AAELsC,MAAAA,SAAS,EAAEA,SAFN;AAGLK,MAAAA,iBAAiB,EAAE3C,UAAU,GAAG3C,OAAO,CAACiE,GAArB,GAA2BjE,OAAO,CAACkE,MAHjD;AAILQ,MAAAA,gBAAgB,EAAEO,SAAS,CAACpB,KAAV,GAAkB7D,OAAO,CAACmE,IAA1B,GAAiCnE,OAAO,CAACoE,KAAzC,GAAiDgB,OAJ9D;AAKL7D,MAAAA,CAAC,EAAEA,CALE;AAMLrD,MAAAA,QAAQ,EAAE6G,OAAO,CAAC7G,QANb;AAOL0C,MAAAA,EAAE,EAAEyE;AAPC,KAAP;AASD,GAlBkB,CAAnB;AAmBA,SAAOd,YAAY,CAAC1E,GAAb,CAAiB,UAAU0F,WAAV,EAAuBxK,CAAvB,EAA0B;AAChD,QAAI+I,WAAW,GAAG5B,cAAc,CAACC,eAAD,EAAkBoD,WAAW,CAACN,SAAZ,CAAsBpB,KAAxC,CAAhC;AACA,QAAIE,WAAW,GAAGQ,YAAY,CAACiB,KAAb,CAAmB,CAAnB,EAAsBzK,CAAC,GAAG,CAA1B,EAA6BoG,MAA7B,CAAoC,UAAUsE,IAAV,EAAgBC,IAAhB,EAAsB;AAC1E,aAAOD,IAAI,GAAGC,IAAI,CAAC9E,EAAnB;AACD,KAFiB,EAEfW,CAFe,CAAlB;AAGA,QAAIvB,OAAO,GAAGd,cAAc,CAACK,iBAAD,EAAoBxE,CAApB,CAA5B;AACA,QAAIyI,MAAM,GAAG+B,WAAW,CAACD,iBAAzB;AACA,QAAIK,MAAM,GAAG9E,MAAM,GAAGyD,gBAAgB,CAACnC,eAAD,EAAkBoC,YAAlB,EAAgCxJ,CAAhC,CAAhB,GAAqD+I,WAArD,GAAmE9D,OAAO,CAACmE,IAA9E,GAAqFL,WAAxG;AACA,QAAI8B,MAAM,GAAG/E,MAAM,GAAG6B,cAAc,CAACP,eAAD,EAAkBqB,MAAlB,CAAd,GAA0CxD,OAAO,CAACiE,GAArD,GAA2DF,WAA9E;AACA,QAAIC,eAAe,GAAG;AACpBnI,MAAAA,GAAG,EAAE,oBAAoBN,MAApB,CAA2BR,CAA3B,CADe;AAEpByI,MAAAA,MAAM,EAAEA,MAFY;AAGpB5E,MAAAA,KAAK,EAAEM,cAAc,CAACI,eAAD,EAAkBvE,CAAlB,CAHD;AAIpB8I,MAAAA,KAAK,EAAE0B,WAAW,CAACb,gBAJC;AAKpB7C,MAAAA,SAAS,EAAEA,SALS;AAMpBP,MAAAA,CAAC,EAAEqE,MAAM,GAAG3F,OAAO,CAACmE,IANA;AAOpB5C,MAAAA,CAAC,EAAEqE;AAPiB,KAAtB;AASA,WAAOxI,KAAK,CAACiH,YAAN,CAAmBjB,mBAAnB,EAAwCzI,SAAS,CAAC,EAAD,EAAKyI,mBAAmB,CAAC9E,KAAzB,EAAgC0F,eAAhC,CAAjD,CAAP;AACD,GAnBM,CAAP;AAoBD,CAhDD;;AAkDA,IAAI6B,oBAAoB,GAAG,UAAU1D,eAAV,EAA2Be,WAA3B,EAAwC;AACjE,SAAO7D,uBAAuB,CAAC8C,eAAD,CAAvB,GAA2C2C,mBAAmB,CAAC3C,eAAD,EAAkBe,WAAlB,CAA9D,GAA+FD,iBAAiB,CAACd,eAAD,EAAkBe,WAAlB,CAAvH;AACD,CAFD;;AAIA,IAAI4C,eAAe,GAAG,UAAU5C,WAAV,EAAuBnI,CAAvB,EAA0BoH,eAA1B,EAA2C;AAC/D,MAAI4C,OAAO,GAAG7F,cAAc,CAACgE,WAAD,EAAcnI,CAAd,CAA5B;AACA,MAAIiK,QAAQ,GAAG9F,cAAc,CAACgE,WAAD,EAAcnI,CAAC,GAAG,CAAlB,CAA7B;AACA,MAAIgL,cAAc,GAAGf,QAAQ,CAAC9G,QAAT,GAAoB8G,QAAQ,CAAC5E,UAAlD;AACA,MAAI4F,aAAa,GAAGjB,OAAO,CAAC7G,QAAR,GAAmB6G,OAAO,CAAC3E,UAA/C;AACA,MAAI6F,YAAY,GAAGjB,QAAQ,CAAC9G,QAAT,GAAoB8G,QAAQ,CAAClE,SAAhD;AACA,MAAIoF,WAAW,GAAGnB,OAAO,CAAC7G,QAAR,GAAmB6G,OAAO,CAACjE,SAA7C;AACA,MAAI6B,UAAU,GAAGoD,cAAc,GAAGf,QAAQ,CAAC9G,QAAT,GAAoB,CAArC,GAAyC6G,OAAO,CAAC7G,QAAR,GAAmB,CAA5D,GAAgE6H,cAAc,GAAG,CAAjF,GAAqFC,aAAa,GAAG,CAArG,GAAyGE,WAAW,GAAG,CAAvH,GAA2HD,YAAY,GAAG,CAA3J;AACA,SAAO5G,uBAAuB,CAAC8C,eAAD,CAAvB,GAA2CQ,UAAU,GAAGoC,OAAO,CAACxF,iBAAR,CAA0B0E,GAAvC,GAA6Ce,QAAQ,CAACzF,iBAAT,CAA2B2E,MAAnH,GAA4HvB,UAAnI;AACD,CATD;;AAWA,IAAIwD,UAAU,GAAG,UAAUjD,WAAV,EAAuBf,eAAvB,EAAwCpH,CAAxC,EAA2C;AAC1D,MAAI8F,MAAM,GAAGsB,eAAe,CAACtB,MAA7B;AACA,MAAIkE,OAAO,GAAG7F,cAAc,CAACgE,WAAD,EAAcnI,CAAd,CAA5B;;AAEA,MAAIA,CAAC,IAAI,CAAC8F,MAAV,EAAkB;AAChB,WAAOiF,eAAe,CAAC5C,WAAD,EAAcnI,CAAd,EAAiBoH,eAAjB,CAAtB;AACD,GAFD,MAEO,IAAItB,MAAJ,EAAY;AACjB,WAAO9F,CAAC,KAAK,CAAN,GAAUgK,OAAO,CAACxF,iBAAR,CAA0B0E,GAApC,GAA0CnF,SAAjD;AACD,GAFM,MAEA;AACL,WAAOiG,OAAO,CAACxF,iBAAR,CAA0B0E,GAAjC;AACD;AACF,CAXD;;AAaA,IAAImC,aAAa,GAAG,UAAU9H,KAAV,EAAiB;AACnC;;;;;AAKA,MAAIgC,IAAI,GAAGD,UAAU,CAAC/B,KAAK,CAACgC,IAAP,EAAahC,KAAb,CAArB;AACA,MAAIM,KAAK,GAAGY,SAAS,CAAClB,KAAK,CAACM,KAAP,EAAchE,OAAO,CAAC,EAAD,EAAK0D,KAAL,EAAY;AACpDgC,IAAAA,IAAI,EAAEA;AAD8C,GAAZ,CAArB,CAArB;AAGA,MAAIhB,eAAe,GAAGQ,mBAAmB,CAACxB,KAAK,CAACgB,eAAP,EAAwB1E,OAAO,CAAC,EAAD,EAAK0D,KAAL,EAAY;AAClFgC,IAAAA,IAAI,EAAEA,IAD4E;AAElF1B,IAAAA,KAAK,EAAEA;AAF2E,GAAZ,CAA/B,CAAzC;AAIA,MAAIW,iBAAiB,GAAGQ,oBAAoB,CAACnF,OAAO,CAAC,EAAD,EAAK0D,KAAL,EAAY;AAC9DgC,IAAAA,IAAI,EAAEA,IADwD;AAE9D1B,IAAAA,KAAK,EAAEA,KAFuD;AAG9DU,IAAAA,eAAe,EAAEA;AAH6C,GAAZ,CAAR,CAA5C;AAKA,MAAI+G,EAAE,GAAG5I,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAAC+H,EAA3B,EAA+B/H,KAA/B,CAAT;AACA,SAAO1D,OAAO,CAAC,EAAD,EAAK0D,KAAL,EAAY;AACxBgB,IAAAA,eAAe,EAAEA,eADO;AAExBC,IAAAA,iBAAiB,EAAEA,iBAFK;AAGxBX,IAAAA,KAAK,EAAEA,KAHiB;AAIxB0B,IAAAA,IAAI,EAAEA,IAJkB;AAKxB+F,IAAAA,EAAE,EAAEA;AALoB,GAAZ,CAAd;AAOD,CA3BD;;AA6BA,IAAIC,kBAAkB,GAAG,UAAUhI,KAAV,EAAiB;AACxC,MAAIM,KAAK,GAAGM,cAAc,CAACZ,KAAK,CAACM,KAAP,CAA1B;AACA,MAAIwB,UAAU,GAAGD,aAAa,CAAC7B,KAAD,CAA9B;AACA,MAAI+D,SAAS,GAAG/D,KAAK,CAAC+D,SAAN,GAAkB5E,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAAC+D,SAA3B,EAAsC/D,KAAtC,CAAlB,GAAiE,SAAjF;AACA,MAAIgE,UAAU,GAAGhE,KAAK,CAACgE,UAAN,GAAmB7E,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAACgE,UAA3B,EAAuChE,KAAvC,CAAnB,GAAmEM,KAAK,CAAC0D,UAAN,IAAoB,OAAxG;AACA,MAAI3B,cAAc,GAAGrC,KAAK,CAACqC,cAAN,GAAuBlD,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAACqC,cAA3B,EAA2CrC,KAA3C,CAAvB,GAA2EM,KAAK,CAAC+B,cAAN,IAAwB,QAAxH;AACA,MAAI4B,EAAE,GAAGjE,KAAK,CAACiE,EAAN,GAAW9E,OAAO,CAACwC,YAAR,CAAqB3B,KAAK,CAACiE,EAA3B,EAA+BjE,KAA/B,CAAX,GAAmD,CAA5D;AACA,MAAIsC,EAAE,GAAGF,KAAK,CAACpC,KAAD,EAAQqC,cAAR,EAAwBP,UAAxB,CAAd;AACA,MAAIyB,SAAS,GAAGR,YAAY,CAAC/C,KAAD,CAA5B;AACA,MAAIgD,CAAC,GAAGhD,KAAK,CAACgD,CAAN,KAAYxC,SAAZ,GAAwBR,KAAK,CAACgD,CAA9B,GAAkCjD,WAAW,CAACC,KAAD,EAAQ,GAAR,CAArD;AACA,MAAIiD,CAAC,GAAGjD,KAAK,CAACiD,CAAN,KAAYzC,SAAZ,GAAwBR,KAAK,CAACiD,CAA9B,GAAkClD,WAAW,CAACC,KAAD,EAAQ,GAAR,CAArD;AACA,SAAO1D,OAAO,CAAC,EAAD,EAAK0D,KAAL,EAAY;AACxB8B,IAAAA,UAAU,EAAEA,UADY;AAExBiC,IAAAA,SAAS,EAAEA,SAFa;AAGxBC,IAAAA,UAAU,EAAEA,UAHY;AAIxB3B,IAAAA,cAAc,EAAEA,cAJQ;AAKxB4B,IAAAA,EAAE,EAAEA,EALoB;AAMxB3B,IAAAA,EAAE,EAAEA,EANoB;AAOxBiC,IAAAA,UAAU,EAAEvE,KAAK,CAACsC,EAPM;AAQxBiB,IAAAA,SAAS,EAAEA,SARa;AASxBP,IAAAA,CAAC,EAAEA,CATqB;AAUxBC,IAAAA,CAAC,EAAEA;AAVqB,GAAZ,CAAd;AAYD,CAvBD;;AAyBA,IAAIgF,WAAW,GAAG,UAAUpE,eAAV,EAA2Be,WAA3B,EAAwC;AACxD,MAAIrC,MAAM,GAAGsB,eAAe,CAACtB,MAA7B;AAAA,MACI2F,SAAS,GAAGrE,eAAe,CAACqE,SADhC;AAAA,MAEIC,KAAK,GAAGtE,eAAe,CAACsE,KAF5B;AAAA,MAGIC,MAAM,GAAGvE,eAAe,CAACuE,MAH7B;AAAA,MAIIrE,SAAS,GAAGF,eAAe,CAACE,SAJhC;AAAA,MAKI/B,IAAI,GAAG6B,eAAe,CAAC7B,IAL3B;AAAA,MAMIgC,UAAU,GAAGH,eAAe,CAACG,UANjC;AAAA,MAOIC,EAAE,GAAGJ,eAAe,CAACI,EAPzB;AAAA,MAQI3B,EAAE,GAAGuB,eAAe,CAACvB,EARzB;AAAA,MASIiB,SAAS,GAAGM,eAAe,CAACN,SAThC;AAAA,MAUIP,CAAC,GAAGa,eAAe,CAACb,CAVxB;AAAA,MAWIC,CAAC,GAAGY,eAAe,CAACZ,CAXxB;AAAA,MAYIoF,IAAI,GAAGxE,eAAe,CAACwE,IAZ3B;AAAA,MAaIC,QAAQ,GAAGzE,eAAe,CAACyE,QAb/B;AAAA,MAcIP,EAAE,GAAGlE,eAAe,CAACkE,EAdzB;AAAA,MAeIQ,cAAc,GAAG1E,eAAe,CAAC0E,cAfrC;AAAA,MAgBIC,aAAa,GAAG3E,eAAe,CAAC2E,aAhBpC;;AAkBA,MAAIC,SAAS,GAAGlM,aAAa,CAAC;AAC5BgB,IAAAA,GAAG,EAAE;AADuB,GAAD,EAE1B6K,MAF0B,EAElB;AACTrE,IAAAA,SAAS,EAAEA,SADF;AAETE,IAAAA,EAAE,EAAEA,EAFK;AAGTjB,IAAAA,CAAC,EAAEA,CAHM;AAITC,IAAAA,CAAC,EAAEA,CAAC,GAAGX,EAJE;AAKTiB,IAAAA,SAAS,EAAEA,SALF;AAMT2E,IAAAA,SAAS,EAAEA,SANF;AAOTC,IAAAA,KAAK,EAAEA,KAPE;AAQTE,IAAAA,IAAI,EAAElJ,OAAO,CAACwC,YAAR,CAAqB0G,IAArB,EAA2BxE,eAA3B,CARG;AASTyE,IAAAA,QAAQ,EAAEnJ,OAAO,CAACwC,YAAR,CAAqB2G,QAArB,EAA+BzE,eAA/B,CATD;AAUTkE,IAAAA,EAAE,EAAEA;AAVK,GAFkB,CAA7B;;AAeA,MAAIW,MAAM,GAAG1G,IAAI,CAACT,GAAL,CAAS,UAAUU,IAAV,EAAgBxF,CAAhB,EAAmB;AACvC,QAAIkM,YAAY,GAAG/D,WAAW,CAACnI,CAAD,CAAX,CAAe6D,KAAlC;AACA,QAAIsI,UAAU,GAAG;AACfrL,MAAAA,GAAG,EAAE,GAAGN,MAAH,CAAU8K,EAAV,EAAc,OAAd,EAAuB9K,MAAvB,CAA8BR,CAA9B,CADU;AAEfuG,MAAAA,CAAC,EAAE,CAACT,MAAD,GAAUS,CAAV,GAAcxC,SAFF;AAGfyD,MAAAA,EAAE,EAAE1B,MAAM,GAAG0B,EAAE,GAAGW,WAAW,CAACnI,CAAD,CAAX,CAAewE,iBAAf,CAAiC4E,IAAzC,GAAgD5B,EAH3C;AAIf3B,MAAAA,EAAE,EAAEuF,UAAU,CAACjD,WAAD,EAAcf,eAAd,EAA+BpH,CAA/B,CAJC;AAKfuH,MAAAA,UAAU,EAAE2E,YAAY,CAAC3E,UAAb,IAA2BA,UALxB;AAMf1D,MAAAA,KAAK,EAAEqI,YANQ;AAOfE,MAAAA,QAAQ,EAAE5G;AAPK,KAAjB;AASA,WAAOnD,KAAK,CAACiH,YAAN,CAAmBwC,cAAnB,EAAmCK,UAAnC,CAAP;AACD,GAZY,CAAb;AAaA,SAAO9J,KAAK,CAACiH,YAAN,CAAmByC,aAAnB,EAAkCC,SAAlC,EAA6CC,MAA7C,CAAP;AACD,CAhDD;;AAkDA,IAAII,YAAY,GAAG,UAAU9I,KAAV,EAAiB;AAClCA,EAAAA,KAAK,GAAG8H,aAAa,CAAC9H,KAAD,CAArB;;AAEA,MAAIA,KAAK,CAACgC,IAAN,KAAe,IAAf,IAAuBhC,KAAK,CAACgC,IAAN,KAAexB,SAA1C,EAAqD;AACnD,WAAO,IAAP;AACD;;AAED,MAAIqD,eAAe,GAAGmE,kBAAkB,CAAChI,KAAD,CAAxC;AACA,MAAIgC,IAAI,GAAG6B,eAAe,CAAC7B,IAA3B;AAAA,MACI1B,KAAK,GAAGuD,eAAe,CAACvD,KAD5B;AAAA,MAEIkC,SAAS,GAAGqB,eAAe,CAACrB,SAFhC;AAAA,MAGIvB,iBAAiB,GAAG4C,eAAe,CAAC5C,iBAHxC;AAAA,MAIIa,UAAU,GAAG+B,eAAe,CAAC/B,UAJjC;AAKA,MAAI8C,WAAW,GAAG5C,IAAI,CAACT,GAAL,CAAS,UAAUU,IAAV,EAAgBxF,CAAhB,EAAmB;AAC5C,QAAIkM,YAAY,GAAG/H,cAAc,CAACN,KAAD,EAAQ7D,CAAR,CAAjC;AACA,QAAIsM,WAAW,GAAGxJ,QAAQ,CAACyJ,qBAAT,CAA+B,GAAG/L,MAAH,CAAUuF,SAAV,EAAqB,IAArB,CAA/B,EAA2DmG,YAAY,CAAC/I,QAAxE,CAAlB;AACA,QAAIqJ,iBAAiB,GAAGrI,cAAc,CAACkB,UAAD,EAAarF,CAAb,CAAtC;AACA,WAAO;AACL6D,MAAAA,KAAK,EAAEqI,YADF;AAEL/I,MAAAA,QAAQ,EAAE+I,YAAY,CAAC/I,QAAb,IAAyBF,aAAa,CAACE,QAF5C;AAGL4C,MAAAA,SAAS,EAAEuG,WAHN;AAIL/G,MAAAA,IAAI,EAAEC,IAJD;AAKLgD,MAAAA,QAAQ,EAAE1F,QAAQ,CAAC2J,mBAAT,CAA6BjH,IAA7B,EAAmC0G,YAAnC,CALL;AAML7G,MAAAA,UAAU,EAAEmH,iBANP;AAOLhI,MAAAA,iBAAiB,EAAEL,cAAc,CAACK,iBAAD,EAAoBxE,CAApB;AAP5B,KAAP;AASD,GAbiB,CAAlB;AAcA,MAAI0M,KAAK,GAAGlB,WAAW,CAACpE,eAAD,EAAkBe,WAAlB,CAAvB;;AAEA,MAAI5E,KAAK,CAACgB,eAAV,EAA2B;AACzB,QAAIoI,iBAAiB,GAAG7B,oBAAoB,CAAC1D,eAAD,EAAkBe,WAAlB,CAA5C;AACA,QAAIiE,QAAQ,GAAG,CAACO,iBAAD,EAAoBD,KAApB,CAAf;AACA,QAAIE,mBAAmB,GAAGvK,KAAK,CAACiH,YAAN,CAAmB/F,KAAK,CAACsJ,cAAzB,EAAyC,EAAzC,EAA6CT,QAA7C,CAA1B;AACA,WAAO7I,KAAK,CAACuJ,cAAN,GAAuBzK,KAAK,CAAC0K,aAAN,CAAoBxK,aAApB,EAAmC,IAAnC,EAAyCqK,mBAAzC,CAAvB,GAAuFA,mBAA9F;AACD;;AAED,SAAOrJ,KAAK,CAACuJ,cAAN,GAAuBzK,KAAK,CAAC0K,aAAN,CAAoBxK,aAApB,EAAmC,IAAnC,EAAyCmK,KAAzC,CAAvB,GAAyEA,KAAhF;AACD,CArCD;;AAuCAL,YAAY,CAACW,WAAb,GAA2B,cAA3B;AACAX,YAAY,CAACY,IAAb,GAAoB,OAApB;AACAZ,YAAY,CAACpJ,aAAb,GAA6BA,aAA7B;AACAoJ,YAAY,CAACa,SAAb,GAAyB;AACvBC,EAAAA,MAAM,EAAE7K,SAAS,CAAC8K,IADK;AAEvBvG,EAAAA,KAAK,EAAEvE,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACgL,MAAX,EAAmBhL,SAAS,CAACiL,MAA7B,CAApB,CAFgB;AAGvBlF,EAAAA,mBAAmB,EAAE/F,SAAS,CAACkL,OAHR;AAIvBhJ,EAAAA,iBAAiB,EAAElC,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACiL,MAAX,EAAmBjL,SAAS,CAACmL,MAA7B,EAAqCnL,SAAS,CAACoL,KAA/C,CAApB,CAJI;AAKvBnJ,EAAAA,eAAe,EAAEjC,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACmL,MAAX,EAAmBnL,SAAS,CAACoL,KAA7B,CAApB,CALM;AAMvB3H,EAAAA,SAAS,EAAEzD,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACgL,MAAX,EAAmB7K,eAAe,CAACkL,WAAnC,EAAgDrL,SAAS,CAACsL,IAA1D,CAApB,CANY;AAOvBnC,EAAAA,SAAS,EAAEnJ,SAAS,CAACgL,MAPE;AAQvBO,EAAAA,IAAI,EAAEvL,SAAS,CAACoL,KARO;AASvBjK,EAAAA,KAAK,EAAEnB,SAAS,CAACwL,GATM;AAUvBlC,EAAAA,IAAI,EAAEtJ,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACgL,MAAX,EAAmBhL,SAAS,CAACsL,IAA7B,CAApB,CAViB;AAWvBtG,EAAAA,SAAS,EAAEhF,SAAS,CAACyL,KAAV,CAAgB,CAAC,KAAD,EAAQ,KAAR,EAAe,SAAf,CAAhB,CAXY;AAYvBvG,EAAAA,EAAE,EAAElF,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACiL,MAAX,EAAmBjL,SAAS,CAACgL,MAA7B,EAAqChL,SAAS,CAACsL,IAA/C,CAApB,CAZmB;AAavB/H,EAAAA,EAAE,EAAEvD,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACiL,MAAX,EAAmBjL,SAAS,CAACgL,MAA7B,EAAqChL,SAAS,CAACsL,IAA/C,CAApB,CAbmB;AAcvBjC,EAAAA,MAAM,EAAErJ,SAAS,CAACmL,MAdK;AAevBZ,EAAAA,cAAc,EAAEvK,SAAS,CAACkL,OAfH;AAgBvBlC,EAAAA,EAAE,EAAEhJ,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACiL,MAAX,EAAmBjL,SAAS,CAACgL,MAA7B,EAAqChL,SAAS,CAACsL,IAA/C,CAApB,CAhBmB;AAiBvBvJ,EAAAA,KAAK,EAAE/B,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACiL,MAAX,EAAmBjL,SAAS,CAACgL,MAA7B,CAApB,CAjBgB;AAkBvBxH,EAAAA,MAAM,EAAExD,SAAS,CAAC8K,IAlBK;AAmBvBY,EAAAA,cAAc,EAAE1L,SAAS,CAACyL,KAAV,CAAgB,CAAC,UAAD,EAAa,eAAb,EAA8B,UAA9B,CAAhB,CAnBO;AAoBvB1I,EAAAA,UAAU,EAAE/C,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACgL,MAAX,EAAmB7K,eAAe,CAACkL,WAAnC,EAAgDrL,SAAS,CAACsL,IAA1D,EAAgEtL,SAAS,CAACoL,KAA1E,CAApB,CApBW;AAqBvBO,EAAAA,MAAM,EAAE3L,SAAS,CAAC4L,KAAV,CAAgB;AACtB3H,IAAAA,CAAC,EAAE9D,eAAe,CAACkL,WADG;AAEtBnH,IAAAA,CAAC,EAAE/D,eAAe,CAACkL;AAFG,GAAhB,CArBe;AAyBvBlH,EAAAA,KAAK,EAAEnE,SAAS,CAAC8K,IAzBM;AA0BvBN,EAAAA,cAAc,EAAExK,SAAS,CAAC8K,IA1BH;AA2BvBe,EAAAA,KAAK,EAAE7L,SAAS,CAAC4L,KAAV,CAAgB;AACrB3H,IAAAA,CAAC,EAAE9D,eAAe,CAAC0L,KADE;AAErB3H,IAAAA,CAAC,EAAE/D,eAAe,CAAC0L;AAFE,GAAhB,CA3BgB;AA+BvBtK,EAAAA,KAAK,EAAEvB,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACmL,MAAX,EAAmBnL,SAAS,CAACoL,KAA7B,CAApB,CA/BgB;AAgCvB7B,EAAAA,QAAQ,EAAEvJ,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACiL,MAAX,EAAmBjL,SAAS,CAACsL,IAA7B,CAApB,CAhCa;AAiCvBrI,EAAAA,IAAI,EAAEjD,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACgL,MAAX,EAAmBhL,SAAS,CAACiL,MAA7B,EAAqCjL,SAAS,CAACsL,IAA/C,EAAqDtL,SAAS,CAACoL,KAA/D,CAApB,CAjCiB;AAkCvBnG,EAAAA,UAAU,EAAEjF,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACyL,KAAV,CAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,KAApB,EAA2B,SAA3B,CAAhB,CAAD,EAAyDzL,SAAS,CAACsL,IAAnE,CAApB,CAlCW;AAmCvB7B,EAAAA,aAAa,EAAEzJ,SAAS,CAACkL,OAnCF;AAoCvB9B,EAAAA,KAAK,EAAEpJ,SAAS,CAACgL,MApCM;AAqCvBxG,EAAAA,SAAS,EAAExE,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACgL,MAAX,EAAmBhL,SAAS,CAACmL,MAA7B,EAAqCnL,SAAS,CAACsL,IAA/C,CAApB,CArCY;AAsCvB9B,EAAAA,cAAc,EAAExJ,SAAS,CAACkL,OAtCH;AAuCvB5H,EAAAA,cAAc,EAAEtD,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACyL,KAAV,CAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,KAApB,CAAhB,CAAD,EAA8CzL,SAAS,CAACsL,IAAxD,CAApB,CAvCO;AAwCvBrH,EAAAA,CAAC,EAAEjE,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACiL,MAAX,EAAmBjL,SAAS,CAACgL,MAA7B,CAApB,CAxCoB;AAyCvB9G,EAAAA,CAAC,EAAElE,SAAS,CAAC+K,SAAV,CAAoB,CAAC/K,SAAS,CAACiL,MAAX,EAAmBjL,SAAS,CAACgL,MAA7B,CAApB;AAzCoB,CAAzB;AA2CAjB,YAAY,CAAC+B,YAAb,GAA4B;AAC1B/F,EAAAA,mBAAmB,EAAEhG,KAAK,CAAC0K,aAAN,CAAoBvK,IAApB,EAA0B,IAA1B,CADK;AAE1BqK,EAAAA,cAAc,EAAExK,KAAK,CAAC0K,aAAN,CAAoB,GAApB,EAAyB,IAAzB,CAFU;AAG1BzF,EAAAA,SAAS,EAAE,SAHe;AAI1ByE,EAAAA,aAAa,EAAE1J,KAAK,CAAC0K,aAAN,CAAoB/J,IAApB,EAA0B,IAA1B,CAJW;AAK1B8I,EAAAA,cAAc,EAAEzJ,KAAK,CAAC0K,aAAN,CAAoBhK,KAApB,EAA2B,IAA3B,CALU;AAM1BgD,EAAAA,SAAS,EAAE,IANe;AAO1B;AACAV,EAAAA,UAAU,EAAE;AARc,CAA5B;AAUA,eAAegH,YAAf","sourcesContent":["import _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/*eslint no-magic-numbers: [\"error\", { \"ignore\": [-0.5, 0.5, 0, 1, 2] }]*/\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport VictoryPortal from \"../victory-portal/victory-portal\";\nimport Rect from \"../victory-primitives/rect\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\nimport Helpers from \"../victory-util/helpers\";\nimport LabelHelpers from \"../victory-util/label-helpers\";\nimport Style from \"../victory-util/style\";\nimport Log from \"../victory-util/log\";\nimport TextSize from \"../victory-util/textsize\";\nimport TSpan from \"../victory-primitives/tspan\";\nimport Text from \"../victory-primitives/text\";\nvar defaultStyles = {\n  fill: \"#252525\",\n  fontSize: 14,\n  fontFamily: \"'Gill Sans', 'Gill Sans MT', 'SerÂ­avek', 'Trebuchet MS', sans-serif\",\n  stroke: \"transparent\"\n};\n\nvar getPosition = function (props, dimension) {\n  if (!props.datum) {\n    return 0;\n  }\n\n  var scaledPoint = Helpers.scalePoint(props, props.datum);\n  return scaledPoint[dimension];\n};\n\nvar getFontSize = function (style) {\n  var baseSize = style && style.fontSize;\n\n  if (typeof baseSize === \"number\") {\n    return baseSize;\n  } else if (baseSize === undefined || baseSize === null) {\n    return defaultStyles.fontSize;\n  } else if (typeof baseSize === \"string\") {\n    var fontSize = +baseSize.replace(\"px\", \"\");\n\n    if (!isNaN(fontSize)) {\n      return fontSize;\n    } else {\n      Log.warn(\"fontSize should be expressed as a number of pixels\");\n      return defaultStyles.fontSize;\n    }\n  }\n\n  return defaultStyles.fontSize;\n};\n\nvar getSingleValue = function (prop) {\n  var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return Array.isArray(prop) ? prop[index] || prop[0] : prop;\n};\n\nvar useMultiLineBackgrounds = function (props) {\n  var backgroundStyle = props.backgroundStyle,\n      backgroundPadding = props.backgroundPadding;\n  return Array.isArray(backgroundStyle) && !_isEmpty(backgroundStyle) || Array.isArray(backgroundPadding) && !_isEmpty(backgroundPadding);\n};\n\nvar getStyles = function (style, props) {\n  var getSingleStyle = function (s) {\n    s = s ? _defaults({}, s, defaultStyles) : defaultStyles;\n    var baseStyles = Helpers.evaluateStyle(s, props);\n    return _assign({}, baseStyles, {\n      fontSize: getFontSize(baseStyles)\n    });\n  };\n\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(function (s) {\n    return getSingleStyle(s);\n  }) : getSingleStyle(style);\n};\n\nvar getBackgroundStyles = function (style, props) {\n  if (!style) {\n    return undefined;\n  }\n\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(function (s) {\n    return Helpers.evaluateStyle(s, props);\n  }) : Helpers.evaluateStyle(style);\n};\n\nvar getBackgroundPadding = function (props) {\n  if (props.backgroundPadding && Array.isArray(props.backgroundPadding)) {\n    return props.backgroundPadding.map(function (backgroundPadding) {\n      var padding = Helpers.evaluateProp(backgroundPadding, props);\n      return Helpers.getPadding({\n        padding: padding\n      });\n    });\n  } else {\n    var padding = Helpers.evaluateProp(props.backgroundPadding, props);\n    return Helpers.getPadding({\n      padding: padding\n    });\n  }\n};\n\nvar getLineHeight = function (props) {\n  var lineHeight = Helpers.evaluateProp(props.lineHeight, props);\n\n  if (Array.isArray(lineHeight)) {\n    return _isEmpty(lineHeight) ? [1] : lineHeight;\n  } else {\n    return lineHeight;\n  }\n};\n\nvar getContent = function (text, props) {\n  if (text === undefined || text === null) {\n    return undefined;\n  }\n\n  if (Array.isArray(text)) {\n    return text.map(function (line) {\n      return Helpers.evaluateProp(line, props);\n    });\n  }\n\n  var child = Helpers.evaluateProp(text, props);\n\n  if (child === undefined || child === null) {\n    return undefined;\n  }\n\n  return Array.isArray(child) ? child : \"\".concat(child).split(\"\\n\");\n};\n\nvar getDy = function (props, verticalAnchor, lineHeight) {\n  var dy = props.dy ? Helpers.evaluateProp(props.dy, props) : 0;\n  var length = props.inline ? 1 : props.text.length;\n  var capHeight = Helpers.evaluateProp(props.capHeight, props);\n  var anchor = verticalAnchor ? Helpers.evaluateProp(verticalAnchor, props) : \"middle\";\n\n  var fontSizes = _toConsumableArray(Array(length).keys()).map(function (i) {\n    return getSingleValue(props.style, i).fontSize;\n  });\n\n  var lineHeights = _toConsumableArray(Array(length).keys()).map(function (i) {\n    return getSingleValue(lineHeight, i);\n  });\n\n  if (anchor === \"start\") {\n    return dy + (capHeight / 2 + lineHeights[0] / 2) * fontSizes[0];\n  } else if (props.inline) {\n    return anchor === \"end\" ? dy + (capHeight / 2 - lineHeights[0] / 2) * fontSizes[0] : dy + capHeight / 2 * fontSizes[0];\n  } else if (length === 1) {\n    return anchor === \"end\" ? dy + (capHeight / 2 + (0.5 - length) * lineHeights[0]) * fontSizes[0] : dy + (capHeight / 2 + (0.5 - length / 2) * lineHeights[0]) * fontSizes[0];\n  } else {\n    var allHeights = _toConsumableArray(Array(length).keys()).reduce(function (memo, i) {\n      return memo + (capHeight / 2 - lineHeights[i]) * fontSizes[i];\n    }, 0);\n\n    return anchor === \"end\" ? dy + allHeights : dy + allHeights / 2 + capHeight / 2 * lineHeights[length - 1] * fontSizes[length - 1];\n  }\n};\n\nvar getTransform = function (props) {\n  var x = props.x,\n      y = props.y,\n      polar = props.polar;\n  var style = getSingleValue(props.style);\n  var defaultAngle = polar ? LabelHelpers.getPolarAngle(props) : 0;\n  var baseAngle = style.angle === undefined ? props.angle : style.angle;\n  var angle = baseAngle === undefined ? defaultAngle : baseAngle;\n  var transform = props.transform || style.transform;\n  var transformPart = transform && Helpers.evaluateProp(transform, props);\n  var rotatePart = angle && {\n    rotate: [angle, x, y]\n  };\n  return transformPart || angle ? Style.toTransformString(transformPart, rotatePart) : undefined;\n};\n\nvar getXCoordinate = function (calculatedProps, labelSizeWidth) {\n  var direction = calculatedProps.direction,\n      textAnchor = calculatedProps.textAnchor,\n      x = calculatedProps.x,\n      dx = calculatedProps.dx;\n\n  if (direction === \"rtl\") {\n    return x - labelSizeWidth;\n  }\n\n  switch (textAnchor) {\n    case \"middle\":\n      return Math.round(x - labelSizeWidth / 2);\n\n    case \"end\":\n      return Math.round(x - labelSizeWidth);\n\n    default:\n      // start\n      return x + (dx || 0);\n  }\n};\n\nvar getYCoordinate = function (calculatedProps, textHeight) {\n  var verticalAnchor = calculatedProps.verticalAnchor,\n      y = calculatedProps.y,\n      _calculatedProps$orig = calculatedProps.originalDy,\n      originalDy = _calculatedProps$orig === void 0 ? 0 : _calculatedProps$orig;\n  var offset = y + originalDy;\n\n  switch (verticalAnchor) {\n    case \"start\":\n      return Math.floor(offset);\n\n    case \"end\":\n      return Math.ceil(offset - textHeight);\n\n    default:\n      // middle\n      return Math.floor(offset - textHeight / 2);\n  }\n};\n\nvar getFullBackground = function (calculatedProps, tspanValues) {\n  var _calculatedProps$dx = calculatedProps.dx,\n      dx = _calculatedProps$dx === void 0 ? 0 : _calculatedProps$dx,\n      transform = calculatedProps.transform,\n      backgroundComponent = calculatedProps.backgroundComponent,\n      backgroundStyle = calculatedProps.backgroundStyle,\n      inline = calculatedProps.inline,\n      backgroundPadding = calculatedProps.backgroundPadding,\n      capHeight = calculatedProps.capHeight;\n  var textSizes = tspanValues.map(function (tspan) {\n    return tspan.textSize;\n  });\n  var height = inline ? Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.height;\n  }))) : textSizes.reduce(function (memo, size, i) {\n    var capHeightAdjustment = i ? capHeight / 2 : 0;\n    return memo + size.height * (tspanValues[i].lineHeight - capHeightAdjustment);\n  }, 0);\n  var width = inline ? textSizes.reduce(function (memo, size, index) {\n    var offset = index ? dx : 0;\n    return memo + size.width + offset;\n  }, 0) : Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.width;\n  })));\n  var xCoordinate = getXCoordinate(calculatedProps, width);\n  var yCoordinate = getYCoordinate(calculatedProps, height);\n  var backgroundProps = {\n    key: \"background\",\n    height: height + backgroundPadding.top + backgroundPadding.bottom,\n    style: backgroundStyle,\n    transform: transform,\n    width: width + backgroundPadding.left + backgroundPadding.right,\n    x: inline ? xCoordinate - backgroundPadding.left : xCoordinate + dx - backgroundPadding.left,\n    y: yCoordinate\n  };\n  return React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n};\n\nvar getInlineXOffset = function (calculatedProps, textElements, index) {\n  var textAnchor = calculatedProps.textAnchor;\n  var widths = textElements.map(function (t) {\n    return t.widthWithPadding;\n  });\n  var totalWidth = widths.reduce(function (memo, width) {\n    return memo + width;\n  }, 0);\n  var centerOffset = -totalWidth / 2;\n\n  switch (textAnchor) {\n    case \"start\":\n      return widths.reduce(function (memo, width, i) {\n        memo = i < index ? memo + width : memo;\n        return memo;\n      }, 0);\n\n    case \"end\":\n      return widths.reduce(function (memo, width, i) {\n        memo = i > index ? memo - width : memo;\n        return memo;\n      }, 0);\n\n    default:\n      // middle\n      return widths.reduce(function (memo, width, i) {\n        var offsetWidth = i < index ? width : 0;\n        memo = i === index ? memo + width / 2 : memo + offsetWidth;\n        return memo;\n      }, centerOffset);\n  }\n};\n\nvar getChildBackgrounds = function (calculatedProps, tspanValues) {\n  var dy = calculatedProps.dy,\n      dx = calculatedProps.dx,\n      transform = calculatedProps.transform,\n      backgroundStyle = calculatedProps.backgroundStyle,\n      backgroundPadding = calculatedProps.backgroundPadding,\n      backgroundComponent = calculatedProps.backgroundComponent,\n      inline = calculatedProps.inline,\n      y = calculatedProps.y;\n  var textElements = tspanValues.map(function (current, i) {\n    var previous = getSingleValue(tspanValues, i - 1);\n    var labelSize = current.textSize;\n    var totalLineHeight = current.fontSize * current.lineHeight;\n    var textHeight = Math.ceil(totalLineHeight);\n    var padding = getSingleValue(backgroundPadding, i);\n    var prevPadding = getSingleValue(backgroundPadding, i - 1);\n    var xOffset = inline ? dx || 0 : 0;\n    var childDy = i && !inline ? previous.fontSize * previous.lineHeight + prevPadding.top + prevPadding.bottom : dy - totalLineHeight * 0.5 - (current.fontSize - current.capHeight);\n    return {\n      textHeight: textHeight,\n      labelSize: labelSize,\n      heightWithPadding: textHeight + padding.top + padding.bottom,\n      widthWithPadding: labelSize.width + padding.left + padding.right + xOffset,\n      y: y,\n      fontSize: current.fontSize,\n      dy: childDy\n    };\n  });\n  return textElements.map(function (textElement, i) {\n    var xCoordinate = getXCoordinate(calculatedProps, textElement.labelSize.width);\n    var yCoordinate = textElements.slice(0, i + 1).reduce(function (prev, curr) {\n      return prev + curr.dy;\n    }, y);\n    var padding = getSingleValue(backgroundPadding, i);\n    var height = textElement.heightWithPadding;\n    var xCoord = inline ? getInlineXOffset(calculatedProps, textElements, i) + xCoordinate - padding.left : xCoordinate;\n    var yCoord = inline ? getYCoordinate(calculatedProps, height) - padding.top : yCoordinate;\n    var backgroundProps = {\n      key: \"tspan-background-\".concat(i),\n      height: height,\n      style: getSingleValue(backgroundStyle, i),\n      width: textElement.widthWithPadding,\n      transform: transform,\n      x: xCoord - padding.left,\n      y: yCoord\n    };\n    return React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n  });\n};\n\nvar getBackgroundElement = function (calculatedProps, tspanValues) {\n  return useMultiLineBackgrounds(calculatedProps) ? getChildBackgrounds(calculatedProps, tspanValues) : getFullBackground(calculatedProps, tspanValues);\n};\n\nvar calculateSpanDy = function (tspanValues, i, calculatedProps) {\n  var current = getSingleValue(tspanValues, i);\n  var previous = getSingleValue(tspanValues, i - 1);\n  var previousHeight = previous.fontSize * previous.lineHeight;\n  var currentHeight = current.fontSize * current.lineHeight;\n  var previousCaps = previous.fontSize - previous.capHeight;\n  var currentCaps = current.fontSize - current.capHeight;\n  var textHeight = previousHeight - previous.fontSize / 2 + current.fontSize / 2 - previousHeight / 2 + currentHeight / 2 - currentCaps / 2 + previousCaps / 2;\n  return useMultiLineBackgrounds(calculatedProps) ? textHeight + current.backgroundPadding.top + previous.backgroundPadding.bottom : textHeight;\n};\n\nvar getTSpanDy = function (tspanValues, calculatedProps, i) {\n  var inline = calculatedProps.inline;\n  var current = getSingleValue(tspanValues, i);\n\n  if (i && !inline) {\n    return calculateSpanDy(tspanValues, i, calculatedProps);\n  } else if (inline) {\n    return i === 0 ? current.backgroundPadding.top : undefined;\n  } else {\n    return current.backgroundPadding.top;\n  }\n};\n\nvar evaluateProps = function (props) {\n  /* Potential evaluated props are\n    1) text\n    2) style\n    3) everything else\n  */\n  var text = getContent(props.text, props);\n  var style = getStyles(props.style, _assign({}, props, {\n    text: text\n  }));\n  var backgroundStyle = getBackgroundStyles(props.backgroundStyle, _assign({}, props, {\n    text: text,\n    style: style\n  }));\n  var backgroundPadding = getBackgroundPadding(_assign({}, props, {\n    text: text,\n    style: style,\n    backgroundStyle: backgroundStyle\n  }));\n  var id = Helpers.evaluateProp(props.id, props);\n  return _assign({}, props, {\n    backgroundStyle: backgroundStyle,\n    backgroundPadding: backgroundPadding,\n    style: style,\n    text: text,\n    id: id\n  });\n};\n\nvar getCalculatedProps = function (props) {\n  var style = getSingleValue(props.style);\n  var lineHeight = getLineHeight(props);\n  var direction = props.direction ? Helpers.evaluateProp(props.direction, props) : \"inherit\";\n  var textAnchor = props.textAnchor ? Helpers.evaluateProp(props.textAnchor, props) : style.textAnchor || \"start\";\n  var verticalAnchor = props.verticalAnchor ? Helpers.evaluateProp(props.verticalAnchor, props) : style.verticalAnchor || \"middle\";\n  var dx = props.dx ? Helpers.evaluateProp(props.dx, props) : 0;\n  var dy = getDy(props, verticalAnchor, lineHeight);\n  var transform = getTransform(props);\n  var x = props.x !== undefined ? props.x : getPosition(props, \"x\");\n  var y = props.y !== undefined ? props.y : getPosition(props, \"y\");\n  return _assign({}, props, {\n    lineHeight: lineHeight,\n    direction: direction,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    dx: dx,\n    dy: dy,\n    originalDy: props.dy,\n    transform: transform,\n    x: x,\n    y: y\n  });\n};\n\nvar renderLabel = function (calculatedProps, tspanValues) {\n  var inline = calculatedProps.inline,\n      className = calculatedProps.className,\n      title = calculatedProps.title,\n      events = calculatedProps.events,\n      direction = calculatedProps.direction,\n      text = calculatedProps.text,\n      textAnchor = calculatedProps.textAnchor,\n      dx = calculatedProps.dx,\n      dy = calculatedProps.dy,\n      transform = calculatedProps.transform,\n      x = calculatedProps.x,\n      y = calculatedProps.y,\n      desc = calculatedProps.desc,\n      tabIndex = calculatedProps.tabIndex,\n      id = calculatedProps.id,\n      tspanComponent = calculatedProps.tspanComponent,\n      textComponent = calculatedProps.textComponent;\n\n  var textProps = _objectSpread({\n    key: \"text\"\n  }, events, {\n    direction: direction,\n    dx: dx,\n    x: x,\n    y: y + dy,\n    transform: transform,\n    className: className,\n    title: title,\n    desc: Helpers.evaluateProp(desc, calculatedProps),\n    tabIndex: Helpers.evaluateProp(tabIndex, calculatedProps),\n    id: id\n  });\n\n  var tspans = text.map(function (line, i) {\n    var currentStyle = tspanValues[i].style;\n    var tspanProps = {\n      key: \"\".concat(id, \"-key-\").concat(i),\n      x: !inline ? x : undefined,\n      dx: inline ? dx + tspanValues[i].backgroundPadding.left : dx,\n      dy: getTSpanDy(tspanValues, calculatedProps, i),\n      textAnchor: currentStyle.textAnchor || textAnchor,\n      style: currentStyle,\n      children: line\n    };\n    return React.cloneElement(tspanComponent, tspanProps);\n  });\n  return React.cloneElement(textComponent, textProps, tspans);\n};\n\nvar VictoryLabel = function (props) {\n  props = evaluateProps(props);\n\n  if (props.text === null || props.text === undefined) {\n    return null;\n  }\n\n  var calculatedProps = getCalculatedProps(props);\n  var text = calculatedProps.text,\n      style = calculatedProps.style,\n      capHeight = calculatedProps.capHeight,\n      backgroundPadding = calculatedProps.backgroundPadding,\n      lineHeight = calculatedProps.lineHeight;\n  var tspanValues = text.map(function (line, i) {\n    var currentStyle = getSingleValue(style, i);\n    var capHeightPx = TextSize.convertLengthToPixels(\"\".concat(capHeight, \"em\"), currentStyle.fontSize);\n    var currentLineHeight = getSingleValue(lineHeight, i);\n    return {\n      style: currentStyle,\n      fontSize: currentStyle.fontSize || defaultStyles.fontSize,\n      capHeight: capHeightPx,\n      text: line,\n      textSize: TextSize.approximateTextSize(line, currentStyle),\n      lineHeight: currentLineHeight,\n      backgroundPadding: getSingleValue(backgroundPadding, i)\n    };\n  });\n  var label = renderLabel(calculatedProps, tspanValues);\n\n  if (props.backgroundStyle) {\n    var backgroundElement = getBackgroundElement(calculatedProps, tspanValues);\n    var children = [backgroundElement, label];\n    var backgroundWithLabel = React.cloneElement(props.groupComponent, {}, children);\n    return props.renderInPortal ? React.createElement(VictoryPortal, null, backgroundWithLabel) : backgroundWithLabel;\n  }\n\n  return props.renderInPortal ? React.createElement(VictoryPortal, null, label) : label;\n};\n\nVictoryLabel.displayName = \"VictoryLabel\";\nVictoryLabel.role = \"label\";\nVictoryLabel.defaultStyles = defaultStyles;\nVictoryLabel.propTypes = {\n  active: PropTypes.bool,\n  angle: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  backgroundComponent: PropTypes.element,\n  backgroundPadding: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  backgroundStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  capHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func]),\n  className: PropTypes.string,\n  data: PropTypes.array,\n  datum: PropTypes.any,\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  direction: PropTypes.oneOf([\"rtl\", \"ltr\", \"inherit\"]),\n  dx: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  dy: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  events: PropTypes.object,\n  groupComponent: PropTypes.element,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  inline: PropTypes.bool,\n  labelPlacement: PropTypes.oneOf([\"parallel\", \"perpendicular\", \"vertical\"]),\n  lineHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func, PropTypes.array]),\n  origin: PropTypes.shape({\n    x: CustomPropTypes.nonNegative,\n    y: CustomPropTypes.nonNegative\n  }),\n  polar: PropTypes.bool,\n  renderInPortal: PropTypes.bool,\n  scale: PropTypes.shape({\n    x: CustomPropTypes.scale,\n    y: CustomPropTypes.scale\n  }),\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func, PropTypes.array]),\n  textAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\", \"inherit\"]), PropTypes.func]),\n  textComponent: PropTypes.element,\n  title: PropTypes.string,\n  transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]),\n  tspanComponent: PropTypes.element,\n  verticalAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\"]), PropTypes.func]),\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\nVictoryLabel.defaultProps = {\n  backgroundComponent: React.createElement(Rect, null),\n  groupComponent: React.createElement(\"g\", null),\n  direction: \"inherit\",\n  textComponent: React.createElement(Text, null),\n  tspanComponent: React.createElement(TSpan, null),\n  capHeight: 0.71,\n  // Magic number from d3.\n  lineHeight: 1\n};\nexport default VictoryLabel;"]},"metadata":{},"sourceType":"module"}